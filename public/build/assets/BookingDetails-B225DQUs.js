import{_ as F}from"./AuthPageheader-CwRHyFZ7.js";import{_ as H,o as m,c,a as e,t,n as T,P as V,i as O,D as N,j as h,F as P,d as I,M as R,a5 as L,b as n,u as r,I as G,w as p,Y as U,S as j,T as E,U as Y,h as C,N as X,Z as q,f as k,L as Z,k as J,m as K,g as Q}from"./app-BD4lRJCZ.js";import{N as W,r as ee,a as te,_ as se}from"./OrderDetailsPaymentAndAgainOrder-D_fIGsnX.js";import{r as oe}from"./HomeIcon-CJm39ozl.js";const ae={class:"p-4 lg:p-6 bg-white rounded-xl flex flex-col"},le={class:"flex gap-1 justify-between items-center"},ne={class:"text-sm sm:text-base font-normal shrink-0"},re={class:"text-slate-500"},ie={class:"text-blue-500"},de={class:"flex items-center gap-1 sm:gap-3 mt-1 sm:mt-0 flex-wrap"},me={class:"inline-flex gap-2 text-sm md:text-base leading-tight text-ellipsis"},ce={class:"text-slate-500 shrink-0"},ue={class:"text-slate-950 whitespace-nowrap text-ellipsis overflow-hidden"},fe={__name:"BookingDetailsBookingStatus",props:{order:Object},setup(a){return(f,i)=>(m(),c("div",ae,[e("div",le,[e("div",ne,[e("span",re,t(f.$t("Order ID")),1),e("span",ie,t(a.order.booking_code),1)]),e("div",{class:T(["text-xs sm:text-sm font-normal px-2 py-1 rounded-[10px] inline-block text-ellipsis overflow-hidden",a.order.order_status])},t(a.order.order_status),3)]),e("div",de,[e("div",me,[e("span",ce,t(f.$t("Placed on")),1),e("span",ue,t(a.order.placed_at),1)]),i[0]||(i[0]=e("div",{class:"w-2 h-2 bg-slate-300 rounded-full hidden sm:block"},null,-1))])]))}},pe=H(fe,[["__scopeId","data-v-234ea35f"]]),xe={class:"space-y-2 divide-y divide-slate-200"},ve={class:"w-[72px] h-[95px]"},ge=["src"],he={class:"flex flex-col gap-1 w-full relative"},ye={class:"flex justify-between items-center gap-2"},be={class:"text-slate-950 text-base font-normal leading-normal"},_e=["onClick"],we={key:1,class:"flex items-center gap-0"},$e={class:"flex flex-wrap justify-between items-center gap-3"},ke={class:"flex items-center gap-1"},Ce={class:"min-w-8 text-center px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},je={class:"px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},Se={class:"text-slate-800 text-base font-normal leading-normal"},De={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Pe={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Oe={class:"bg-white p-5 sm:p-8 relative"},Be={class:"text-xl font-semibold text-gray-800 mb-4"},Me={class:"flex justify-center items-center gap-3 mb-4"},ze={class:"text-gray-600 text-lg"},Ae=["placeholder"],Ie={class:"flex justify-end space-x-3 mt-4"},Re={__name:"BookingServices",props:{order:Object,default:()=>{}},emits:["refresh"],setup(a,{emit:f}){const i=V(),x=O(),g=a,d=f,y=N(),u=h(0),v=h(""),b=h(!1),_=h(""),S=o=>{_.value=o,u.value=0,v.value="",b.value=!0},D=()=>{if(u.value==0)return i.error("Please select rating",{position:"bottom-left"}),!1;if(v.value=="")return i.error("Please enter message",{position:"bottom-left"}),!1;axios.post("/product-review",{rating:u.value,description:v.value,order_id:g.order.id,product_id:_.value},{headers:{Authorization:`${x.token}`}}).then(o=>{i.success(o.data.message,{position:"bottom-left"}),b.value=!1,d("refresh")}).catch(o=>{i.error(o.response.data.message,{position:"bottom-left"})})};return(o,s)=>(m(),c(P,null,[e("div",xe,[(m(!0),c(P,null,I(a.order.products,l=>(m(),c("div",{key:l.id,class:"flex gap-4 justify-start w-full items-center pt-1"},[e("div",ve,[e("img",{src:l.service.thumbnail,class:"w-full h-full object-contain"},null,8,ge)]),e("div",he,[e("div",ye,[e("div",be,t(l.service.name),1),R(e("div",null,[l.rating?(m(),c("div",we,[(m(),c(P,null,I(5,w=>e("span",{key:w},[n(r(G),{class:T(["w-5 h-5",w<=l.rating?"text-amber-500":"text-slate-200"])},null,8,["class"])])),64))])):(m(),c("button",{key:0,class:"px-2 py-1 w-full sm:w-auto bg-amber-500 rounded-md md:rounded-lg text-white text-sm font-normal",onClick:w=>S(l.id)},t(o.$t("Review")),9,_e))],512),[[L,a.order.order_status==="Delivered"]])]),e("div",$e,[e("div",ke,[e("div",Ce,t(l.size),1),e("div",je,t(l.color),1)]),e("div",Se,t(l.order_qty)+" X "+t(r(y).showCurrency(l.discount_price>0?l.discount_price:l.price)),1)])])]))),128))]),n(r(q),{as:"template",show:b.value},{default:p(()=>[n(r(U),{as:"div",class:"relative z-10",onClose:s[5]||(s[5]=l=>b.value=!1)},{default:p(()=>[n(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>s[6]||(s[6]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-50 transition-opacity"},null,-1)])),_:1}),e("div",De,[e("div",Pe,[n(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[n(r(E),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all my-8 md:my-0 w-full sm:max-w-lg md:max-w-xl"},{default:p(()=>[e("div",Oe,[e("div",{class:"w-9 h-9 bg-slate-100 rounded-[32px] absolute top-4 right-4 flex justify-center items-center cursor-pointer",onClick:s[0]||(s[0]=l=>b.value=!1)},[n(r(Y),{class:"w-6 h-6 text-slate-600"})]),e("h2",Be,t(o.$t("Rate Your Experience")),1),e("div",Me,[n(r(W),{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=l=>u.value=l),"star-size":42,inactiveColor:"#cbd5e1"},null,8,["modelValue"]),e("div",ze,[e("span",null,t(o.$t("Rating"))+":",1),C(" "+t(u.value),1)])]),e("div",null,[s[7]||(s[7]=e("label",{for:"description"},"Message",-1)),R(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=l=>v.value=l),class:"border border-gray-300 p-2 w-full rounded focus:border-primary outline-none",rows:"4",placeholder:o.$t("Enter your description")},null,8,Ae),[[X,v.value]])]),e("div",Ie,[e("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[3]||(s[3]=l=>b.value=!1)},t(o.$t("Cancel")),1),e("button",{class:"bg-primary hover:bg-primary-600 text-white font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[4]||(s[4]=l=>D())},t(o.$t("Submit")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Te={class:"bg-white rounded-lg md:rounded-2xl border border-slate-100 p-3 md:p-4 xl:p-6"},Ve={class:"text-slate-950 text-lg md:text-xl font-medium"},Ne={class:"my-4 flex justify-between gap-4"},Ue={class:"text-slate-950 text-sm sm:text-base font-normal"},Ee={class:"text-slate-950 text-sm sm:text-base font-normal"},Ye={class:"my-4 flex justify-between gap-4"},qe={class:"text-slate-950 text-sm sm:text-base font-normal"},Fe={class:"text-slate-950 text-sm sm:text-base font-normal"},He={class:"my-4 flex justify-between gap-4"},Le={class:"text-red-500 text-sm sm:text-base font-normal"},Ge={class:"text-slate-950 text-sm sm:text-base font-normal"},Xe={class:"my-4 flex justify-between gap-4"},Ze={class:"text-slate-950 text-sm sm:text-base font-normal"},Je={class:"text-slate-950 text-sm sm:text-base font-normal"},Ke={class:"my-4 flex justify-between gap-4"},Qe={class:"text-slate-950 text-sm sm:text-base tracking-tight"},We={class:"text-slate-950 text-sm sm:text-base tracking-tight"},et={class:"bg-slate-50 rounded md:rounded-lg border border-slate-100 p-2 lg:p-4 mt-2 flex flex-col gap-1 lg:gap-2"},tt={class:"text-slate-500 text-xs font-normal"},st={class:"text-slate-950 text-sm md:text-lg font-medium leading-tight flex items-center justify-between flex-wrap"},ot={key:0,class:"text-red-500 text-sm font-normal bg-red-100 p-1 rounded-md flex gap-1 items-center"},at={key:1,class:"bg-emerald-500 text-sm font-normal text-white p-1 rounded-md flex items-center"},lt={class:"text-center text-primary text-xs md:text-sm font-normal underline leading-tight"},nt={class:"flex items-center gap-2"},rt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},it={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},dt={class:"bg-white p-5 sm:p-8 text-center"},mt={class:"bg-red-500 w-14 h-14 md:w-20 md:h-20 rounded-full mx-auto flex justify-center items-center"},ct={class:"mt-3 text-center text-gray-900 text-2xl md:text-3xl font-bold"},ut={class:"mt-4 text-center text-slate-700 text-base md:text-xl font-normal"},ft={class:"flex justify-between items-center gap-4 mt-8"},pt={__name:"BookingDetailsSummery",props:{order:Object},emits:["update:paymentSuccess"],setup(a,{emit:f}){const i=N(),x=V(),g=O(),d=h(!1),y=h(!1),u=h(!1);h(!1);const v=f,b=()=>{v("update:paymentSuccess",!0)},_=a,S=()=>{axios.post("/orders/cancel",{order_id:_.order.id},{headers:{Authorization:g.token}}).then(o=>{x.success(o.data.message,{position:"bottom-left"}),g.orderCancel=!0}),d.value=!1},D=()=>{_.order.invoice_url?window.open(_.order.invoice_url,"_blank"):x.error("Invoice not found",{position:"bottom-left"})};return(o,s)=>{var l,w,B,M,z,A;return m(),c("div",null,[e("div",Te,[e("div",Ve,t(o.$t("Order Summary")),1),e("div",Ne,[e("div",Ue,t(o.$t("Items")),1),e("div",Ee,t(a.order.quantity),1)]),e("div",Ye,[e("div",qe,t(o.$t("Subtotal")),1),e("div",Fe,t(r(i).showCurrency((l=a.order)==null?void 0:l.total_amount)),1)]),e("div",He,[e("div",Le,t(o.$t("Discount")),1),e("div",Ge," -"+t(r(i).showCurrency((w=a.order)==null?void 0:w.coupon_discount)),1)]),e("div",Xe,[e("div",Ze,t(o.$t("Shipping Charge")),1),e("div",Je,t(r(i).showCurrency((B=a.order)==null?void 0:B.delivery_charge)),1)]),s[8]||(s[8]=e("div",{class:"w-full h-[0px] border border-slate-400"},null,-1)),e("div",Ke,[e("div",Qe,t(o.$t("Total Amount")),1),e("div",We,t(r(i).showCurrency((M=a.order)==null?void 0:M.payable_amount)),1)]),e("div",et,[e("div",tt,t(o.$t("PAYMENT METHOD")),1),e("div",st,[C(t(a.order.payment_method)+" ",1),a.order.payment_status==="Pending"?(m(),c("span",ot,[n(r(ee),{class:"w-5 h-5"}),C(" "+t(a.order.payment_status),1)])):k("",!0),a.order.payment_status==="Paid"?(m(),c("span",at,[n(r(te),{class:"w-5 h-5"}),C(" "+t(a.order.payment_status),1)])):k("",!0)])]),e("button",{class:"p-2 lg:p-4 mt-2 flex gap-1 lg:gap-2 items-center justify-center w-full",onClick:D},[s[7]||(s[7]=e("img",{src:"/assets/icons/cloud.svg",alt:"download",class:"w-4 h-4 md:w-6 md:h-6"},null,-1)),e("span",lt,t(o.$t("Download Invoice")),1)])]),e("div",nt,[a.order.order_status==="Pending"?(m(),c("button",{key:0,class:"mt-2 px-4 py-3 md:py-4 bg-white rounded-lg text-slate-700 text-base font-medium grow",onClick:s[0]||(s[0]=$=>d.value=!0)},t(o.$t("Cancel Order")),1)):k("",!0),((z=_.order)==null?void 0:z.payment_status)=="Pending"&&((A=_.order)==null?void 0:A.payment_method)=="Online Payment"?(m(),c("button",{key:1,class:"mt-2 px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium grow",onClick:s[1]||(s[1]=$=>u.value=!0)},t(o.$t("Make Payment")),1)):k("",!0)]),a.order.order_status==="Delivered"?(m(),c("button",{key:0,class:"w-full mt-2 px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium",onClick:s[2]||(s[2]=$=>y.value=!0)},t(o.$t("Order Again")),1)):k("",!0),n(r(q),{as:"template",show:d.value},{default:p(()=>[n(r(U),{as:"div",class:"relative z-10",onClose:s[4]||(s[4]=$=>d.value=!1)},{default:p(()=>[n(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>s[9]||(s[9]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1}),e("div",rt,[e("div",it,[n(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[n(r(E),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:p(()=>[e("div",dt,[e("div",mt,[n(r(Y),{class:"w-8 h-8 md:w-12 md:h-12 text-white"})]),e("div",ct,t(o.$t("Cancel the Order"))+"! ",1),e("div",ut,t(o.$t("Are you sure want to cancel this order"))+"? ",1),e("div",ft,[e("button",{class:"text-slate-800 grow text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px] border border-slate-300",onClick:s[3]||(s[3]=$=>d.value=!1)},t(o.$t("Cancel")),1),e("button",{class:"text-white grow bg-red-500 text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px]",onClick:S},t(o.$t("Yes")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),n(se,{order:a.order,makePayment:u.value,againOrder:y.value,"onUpdate:makePayment":s[5]||(s[5]=$=>u.value=!1),"onUpdate:orderAgain":s[6]||(s[6]=$=>y.value=!1),"onUpdate:paymentSuccess":b},null,8,["order","makePayment","againOrder"])])}}},xt={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2"},vt={class:"leading-normal"},gt={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-6"},ht={class:"grid grid-cols-3 gap-4 md:gap-6 mt-4 p-3 md:p-4 xl:p-6 bg-white rounded-lg md:rounded-2xl"},yt={class:"col-span-3 lg:col-span-2 bg-white rounded-lg md:rounded-2xl border border-slate-100 p-3 md:p-4 xl:p-6"},bt={class:"text-slate-600 text-sm md:text-base font-normal leading-tight"},_t={class:"col-span-3 lg:col-span-1"},jt={__name:"BookingDetails",setup(a){const f=O(),i=Z(),x=h({});J(()=>f.orderCancel,()=>{f.orderCancel==!0&&g(),f.orderCancel=!1}),K(()=>{g(),window.scrollTo(0,0,{behavior:"smooth"})});const g=async()=>{axios.get("/booking-details",{params:{booking_id:i.params.id},headers:{Authorization:f.token}}).then(d=>{x.value=d.data.data.order})};return(d,y)=>{var v;const u=Q("router-link");return m(),c("div",null,[e("div",xt,[n(r(oe),{class:"w-5 h-5 md:w-6 md:h-6"}),n(u,{to:"/order-history",class:"leading-normal hover:text-primary"},{default:p(()=>[C(t(d.$t("Booking History")),1)]),_:1}),e("span",vt,"/ "+t(d.$t("Booking Details")),1)]),n(F,{title:d.$t("Booking  Details")},null,8,["title"]),e("div",gt,[n(pe,{order:x.value},null,8,["order"]),e("div",ht,[e("div",yt,[y[0]||(y[0]=e("div",{class:"w-full h-[0px] border-t border-slate-200 my-3"},null,-1)),e("div",bt,t(d.$t("Services"))+" ("+t((v=x.value.products)==null?void 0:v.length)+") ",1),n(Re,{order:x.value,onRefresh:g},null,8,["order"])]),e("div",_t,[n(pt,{order:x.value,"onUpdate:paymentSuccess":g},null,8,["order"])])])])])}}};export{jt as default};
