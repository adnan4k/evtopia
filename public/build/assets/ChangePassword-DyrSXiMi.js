import{_ as T,j,N as G,G as I,k as u,h as K,o,c as v,a as e,b as w,u as d,ae as R,w as W,i as Y,t as l,a6 as q,K as h,af as _,D as f,d as i,ag as b,ah as y,f as x,W as F}from"./app-CAPU00r0.js";import{_ as H}from"./AuthPageheader-B-hmAN7e.js";const J={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2 leading-normal"},L={class:"p-3 md:p-4 xl:p-6"},O={class:"max-w-5xl mx-auto"},Q={class:""},X={class:"form-label"},Z={class:"relative"},ee=["type","placeholder"],se={key:0,class:"text-red-500 text-sm"},te={class:"mt-4"},ae={class:"form-label"},oe={class:"relative"},re=["type","placeholder"],le={key:0,class:"text-red-500 text-sm"},ne={class:"mt-4"},de={class:"form-label"},ie={class:"relative"},ue=["type","placeholder"],pe={key:0,class:"text-red-500 text-sm"},ce={type:"submit",class:"px-4 py-3 md:px-6 md:py-4 bg-primary text-white text-sm md:text-base rounded-[10px] mt-6"},me={__name:"ChangePassword",setup(ve){const S=j(),g=G(),E=I(),p=u(!1),c=u(!1),m=u(!1),n=u({current_password:"",password:"",password_confirmation:""}),s=u({}),z={component:F,props:{title:"Password Updated",message:"Your password updated successfully"}},A=()=>{axios.post("/change-password",n.value,{headers:{Authorization:S.token}}).then(()=>{n.value={},g(z,{type:"default",hideProgressBar:!0,icon:!1,position:"bottom-left",toastClassName:"vue-toastification-alert",timeout:2e3}),s.value=null,E.push({name:"profile"})}).catch(a=>{s.value=a.response.data.errors,a.response.data.errors||g.error(a.response.data.message,{position:"bottom-left"})})};return(a,t)=>{var C,k,P,$,N,V,B,D,U;const M=K("router-link");return o(),v("div",null,[e("div",J,[w(d(R),{class:"w-5 h-5 md:w-6 md:h-6"}),w(M,{to:"/profile",class:"hover:text-primary"},{default:W(()=>[Y(l(a.$t("Profile")),1)]),_:1}),e("span",null,"/ "+l(a.$t("Change Password")),1)]),w(H,{title:"Change Password"}),e("div",L,[e("div",O,[e("form",{onSubmit:t[6]||(t[6]=q(r=>A(),["prevent"])),class:"bg-white rounded-lg md:rounded-xl p-4 md:p-6"},[e("div",Q,[e("label",X,l(a.$t("Change Password")),1),e("div",Z,[h(e("input",{type:p.value?"text":"password","onUpdate:modelValue":t[0]||(t[0]=r=>n.value.current_password=r),placeholder:a.$t("Enter Current Password"),class:f(["form-input",s.value&&((C=s.value)!=null&&C.current_password)?"border-red-500":"border-slate-200"])},null,10,ee),[[_,n.value.current_password]]),e("button",{type:"button",onClick:t[1]||(t[1]=r=>p.value=!p.value)},[p.value?(o(),i(d(b),{key:0,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"})):(o(),i(d(y),{key:1,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"}))])]),s.value&&((k=s.value)!=null&&k.current_password)?(o(),v("span",se,l((P=s.value)==null?void 0:P.current_password[0]),1)):x("",!0)]),e("div",te,[e("label",ae,l(a.$t("Create New Password")),1),e("div",oe,[h(e("input",{type:c.value?"text":"password","onUpdate:modelValue":t[2]||(t[2]=r=>n.value.password=r),placeholder:a.$t("Enter Create New Password"),class:f(["form-input",s.value&&(($=s.value)!=null&&$.password)?"border-red-500":"border-slate-200"])},null,10,re),[[_,n.value.password]]),e("button",{type:"button",onClick:t[3]||(t[3]=r=>c.value=!c.value)},[c.value?(o(),i(d(b),{key:0,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"})):(o(),i(d(y),{key:1,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"}))])]),s.value&&((N=s.value)!=null&&N.password)?(o(),v("span",le,l((V=s.value)==null?void 0:V.password[0]),1)):x("",!0)]),e("div",ne,[e("label",de,l(a.$t("Confirm New Password")),1),e("div",ie,[h(e("input",{type:m.value?"text":"password","onUpdate:modelValue":t[4]||(t[4]=r=>n.value.password_confirmation=r),placeholder:a.$t("Confirm New Password"),class:f(["form-input",s.value&&((B=s.value)!=null&&B.password_confirmation)?"border-red-500":"border-slate-200"])},null,10,ue),[[_,n.value.password_confirmation]]),e("button",{type:"button",onClick:t[5]||(t[5]=r=>m.value=!m.value)},[m.value?(o(),i(d(b),{key:0,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"})):(o(),i(d(y),{key:1,class:"w-6 h-6 text-slate-700 absolute right-4 top-1/2 -translate-y-1/2"}))])]),s.value&&((D=s.value)!=null&&D.password_confirmation)?(o(),v("span",pe,l((U=s.value)==null?void 0:U.password_confirmation[0]),1)):x("",!0)]),e("button",ce,l(a.$t("Update Password")),1)],32)])])])}}},_e=T(me,[["__scopeId","data-v-ff7f6849"]]);export{_e as default};
