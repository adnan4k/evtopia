import{h as N,o as a,c as l,a as e,b as f,w as V,i as P,t as s,u as c,D,J as H,k as u,L as K,m as O,K as j,p as z,M as F,N as T,O as E,f as k,F as $,d as C,g as I}from"./app-89Vc9ayq.js";import{r as L}from"./ArrowRightIcon-BMgy22BW.js";import{b as U}from"./blog-banner-BfFILLUb.js";const J={class:"w-full group rounded-xl overflow-hidden px-1 border border-slate-100 hover:border-primary transition-all duration-300"},A={class:"h-48 w-full relative"},G=["src"],Q={class:"w-full px-1 pt-3 pb-1 relative transition duration-300"},W={class:"text-slate-950 text-lg font-[roboto] font-bold leading-normal"},X={class:"text-slate-500 mt-1 text-sm font-normal leading-normal"},Y={class:"w-full flex items-center justify-between mt-3"},Z={class:"text-slate-500 text-sm font-normal leading-normal"},ee={class:"text-base font-normal leading-tight"},te={__name:"KnowledgeHubCard",props:{post:Object},setup(q){const r=q;return console.log("Props : ",r),(m,i)=>{var h,b,y,o,d,v,_;const p=N("router-link");return a(),l("div",J,[e("div",A,[e("img",{class:"w-full h-full object-cover group-hover:scale-105 transition duration-300",src:(h=r.post)==null?void 0:h.banner,alt:"banner",loading:"lazy"},null,8,G)]),e("div",Q,[e("div",W,[f(p,{to:`/knowledge-center/${(b=r.post)==null?void 0:b.slug}`},{default:V(()=>{var w;return[P(s(((w=r.post)==null?void 0:w.title.length)>50?r.post.title.slice(0,50)+"...":r.post.title),1)]}),_:1},8,["to"])]),e("div",X,s(((y=r.post)==null?void 0:y.short_description.length)>150?r.post.short_description.slice(0,150)+"...":r.post.short_description),1),i[0]||(i[0]=e("div",{class:"flex gap-4 w-full mt-3"},null,-1)),e("div",Y,[e("p",Z,s((d=(o=r.post)==null?void 0:o.author)==null?void 0:d.name)+" ("+s((v=r.post)==null?void 0:v.created_at)+")",1),f(p,{to:`/knowledge-center/${(_=r.post)==null?void 0:_.slug}`,class:"flex items-center justify-center px-3 py-2 transition duration-300 rounded-[10px] text-primary hover:text-black font-medium"},{default:V(()=>[e("div",ee,s(m.$t("Read More")),1),f(c(L),{class:"w-5 h-5 ml-0.5"})]),_:1},8,["to"])])])])}}},se={class:"main-container py-14"},oe={class:"w-full bg-white rounded-lg border border-slate-100 p-1 md:p-2 xl:p-3"},re={class:"relative overflow-hidden grow"},ae=["placeholder"],le={key:0,class:"flex mt-1 justify-between items-center w-full gap-4 flex-wrap"},ne={key:0},ie={key:1},de={key:2},ue={key:1,class:"mt-8 grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6 items-start"},ce={key:2},pe={class:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-start"},ge={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},me={class:"text-slate-800 text-base font-normal leading-normal"},ye={__name:"KnowledgeHub",setup(q){const r=D(),m=new H,i=u(1),p=u(12);u(0);const h=u(0),b=u([]),y=u([]),o=K(),d=u({}),v=u(""),_=u(!0);O(()=>{if(d.value={...o.query},!r.multiVendor){m.push("/");return}x(),window.scrollTo(0,0)});const w=async t=>{i.value=t,x()},S=()=>{if(d.value.search=v.value.trim(),d.value.search)m.push({query:{...o.query,search:d.value.search}});else{const{search:t,...n}=o.query;m.push({query:n})}x()},x=async()=>{axios.get("/blogs",{params:{page:i.value,knowledge:1,per_page:p.value,filter:d.value}}).then(t=>{h.value=t.data.data.total,y.value=t.data.data.posts}).catch(t=>{console.error("Error fetching blogs:",t)}).finally(()=>{_.value=!1})},B=j(()=>Object.keys(o.query).some(t=>o.query[t])),M=()=>{d.value={},m.push({query:{}}),x()};return j(()=>!!o.query.search),(t,n)=>{const R=N("vue-awesome-paginate");return a(),l($,null,[e("div",{class:"hero-section bg-cover bg-center h-72 flex items-center justify-center",style:z({backgroundImage:`url(${c(U)})`,backgroundSize:"cover",backgroundPosition:"center"})},n[2]||(n[2]=[e("h1",{class:"text-white text-3xl sm:text-4xl font-bold text-center"},"Our Knowledge Hub",-1)]),4),e("div",se,[e("div",oe,[e("div",re,[F(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=g=>v.value=g),placeholder:t.$t("Search ..."),class:"px-2 py-3 block rounded-lg border border-slate-200 focus:border-primary w-full placeholder:text-gray-400 outline-none text-base font-normal leading-normal",onInput:S},null,40,ae),[[T,v.value]]),e("button",{class:"bg-primary-600 h-full w-14 border-none absolute right-0 top-0 rounded-r-lg flex items-center justify-center",onClick:S},[f(c(E),{class:"w-6 h-6 text-white"})])])]),B.value?(a(),l("div",le,[e("div",null,[P(s(t.$t("Search Results"))+" ",1),c(o).query.search?(a(),l("span",ne,s(t.$t("for"))+' "'+s(c(o).query.search)+'" ',1)):k("",!0),c(o).query.category_id?(a(),l("span",ie,s(t.$t("for category with id"))+' "'+s(c(o).query.category_id)+'" ',1)):k("",!0),c(o).query.tag_id?(a(),l("span",de,s(t.$t("with tag id"))+' "'+s(c(o).query.tag_id)+'" ',1)):k("",!0)]),e("div",null,[e("button",{class:"text-red-500 rounded-lg py-2 px-4 hover:text-red-700 transition duration-300",onClick:M},s(t.$t("Reset Search")),1)])])):k("",!0),_.value?(a(),l("div",ue,[(a(!0),l($,null,C(p.value,g=>(a(),l("div",{key:`skeleton-${g}`,class:"animate-pulse"},n[3]||(n[3]=[I('<div class="bg-white shadow-md rounded-lg p-4"><div class="h-60 bg-gray-200 rounded"></div><div class="mt-4 h-8 bg-gray-200 rounded"></div><div class="mt-2 h-8 bg-gray-200 rounded"></div><div class="mt-2 h-8 w-3/4 bg-gray-200 rounded"></div></div>',1)])))),128))])):(a(),l("div",ce,[e("div",pe,[(a(!0),l($,null,C(y.value,g=>(a(),l("div",{key:g.id,class:"w-full"},[f(te,{post:g},null,8,["post"])]))),128))]),e("div",ge,[e("div",me,s(t.$t("Showing"))+" "+s(p.value*(i.value-1)+1)+" "+s(t.$t("to"))+" "+s(p.value*(i.value-1)+b.value.length)+" "+s(t.$t("of"))+" "+s(h.value)+" "+s(t.$t("results")),1),e("div",null,[f(R,{"total-items":h.value,"items-per-page":p.value,type:"button","hide-prev-next-when-ends":!0,"max-pages-shown":5,modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=g=>i.value=g),onClick:w},null,8,["total-items","items-per-page","modelValue"])])])]))])],64)}}};export{ye as default};
