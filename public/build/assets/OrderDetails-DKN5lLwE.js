import{_ as q}from"./AuthPageheader-C6qmBaXk.js";import{_ as F,o as c,c as u,a as e,t,n as I,P as V,j as P,D as N,k as _,F as S,d as A,M as R,a5 as H,b as l,u as r,I as T,w as v,Y as U,Q as j,R as E,S as Y,i as k,N as L,W as B,f as D,L as G,l as Q,m as W,h as X}from"./app-89Vc9ayq.js";import{N as J,r as K,a as Z,_ as ee}from"./OrderDetailsPaymentAndAgainOrder-mpmGslyJ.js";import{r as te}from"./HomeIcon-ByWIbu43.js";const se={class:"p-4 lg:p-6 bg-white rounded-xl flex flex-col"},ae={class:"flex gap-1 justify-between items-center"},oe={class:"text-sm sm:text-base font-normal shrink-0"},le={class:"text-slate-500"},ne={class:"text-blue-500"},re={class:"flex items-center gap-1 sm:gap-3 mt-1 sm:mt-0 flex-wrap"},de={class:"inline-flex gap-2 text-sm md:text-base leading-tight text-ellipsis"},ie={class:"text-slate-500 shrink-0"},me={class:"text-slate-950 whitespace-nowrap text-ellipsis overflow-hidden"},ce={__name:"OrderDetailsOrderStatus",props:{order:Object},setup(n){return(x,d)=>(c(),u("div",se,[e("div",ae,[e("div",oe,[e("span",le,t(x.$t("Order ID")),1),e("span",ne,t(n.order.order_code),1)]),e("div",{class:I(["text-xs sm:text-sm font-normal px-2 py-1 rounded-[10px] inline-block text-ellipsis overflow-hidden",n.order.order_status])},t(n.order.order_status),3)]),e("div",re,[e("div",de,[e("span",ie,t(x.$t("Placed on")),1),e("span",me,t(n.order.placed_at),1)]),d[0]||(d[0]=e("div",{class:"w-2 h-2 bg-slate-300 rounded-full hidden sm:block"},null,-1))])]))}},ue=F(ce,[["__scopeId","data-v-36fb3940"]]),xe={class:"space-y-2 divide-y divide-slate-200"},fe={class:"w-[72px] h-[95px]"},pe=["src"],ve={class:"flex flex-col gap-1 w-full relative"},he={class:"text-primary text-xs font-normal leading-none"},ge={class:"flex justify-between items-center gap-2"},ye={class:"text-slate-950 text-base font-normal leading-normal"},_e=["onClick"],be={key:1,class:"flex items-center gap-0"},we={class:"flex flex-wrap justify-between items-center gap-3"},$e={class:"flex items-center gap-1"},ke={class:"min-w-8 text-center px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},Ce={class:"px-2 py-1 bg-slate-100 rounded text-slate-800 text-xs font-normal"},je={class:"text-slate-800 text-base font-normal leading-normal"},Oe={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},Se={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},De={class:"bg-white p-5 sm:p-8 relative"},Pe={class:"text-xl font-semibold text-gray-800 mb-4"},ze={class:"flex justify-center items-center gap-3 mb-4"},Me={class:"text-gray-600 text-lg"},Ae=["placeholder"],Re={class:"flex justify-end space-x-3 mt-4"},Ie={__name:"OrderProducts",props:{order:Object,default:()=>{}},emits:["refresh"],setup(n,{emit:x}){const d=V(),m=P(),y=n,i=x,b=N(),f=_(0),h=_(""),p=_(!1),g=_(""),w=a=>{g.value=a,f.value=0,h.value="",p.value=!0},O=()=>{if(f.value==0)return d.error("Please select rating",{position:"bottom-left"}),!1;if(h.value=="")return d.error("Please enter message",{position:"bottom-left"}),!1;axios.post("/product-review",{rating:f.value,description:h.value,order_id:y.order.id,product_id:g.value},{headers:{Authorization:`${m.token}`}}).then(a=>{d.success(a.data.message,{position:"bottom-left"}),p.value=!1,i("refresh")}).catch(a=>{d.error(a.response.data.message,{position:"bottom-left"})})};return(a,s)=>(c(),u(S,null,[e("div",xe,[(c(!0),u(S,null,A(n.order.products,o=>(c(),u("div",{key:o.id,class:"flex gap-4 justify-start w-full items-center pt-1"},[e("div",fe,[e("img",{src:o.thumbnail,class:"w-full h-full object-contain"},null,8,pe)]),e("div",ve,[e("div",he,t(o.brand),1),e("div",ge,[e("div",ye,t(o.name),1),R(e("div",null,[o.rating?(c(),u("div",be,[(c(),u(S,null,A(5,$=>e("span",{key:$},[l(r(T),{class:I(["w-5 h-5",$<=o.rating?"text-amber-500":"text-slate-200"])},null,8,["class"])])),64))])):(c(),u("button",{key:0,class:"px-2 py-1 w-full sm:w-auto bg-amber-500 rounded-md md:rounded-lg text-white text-sm font-normal",onClick:$=>w(o.id)},t(a.$t("Review")),9,_e))],512),[[H,n.order.order_status==="Delivered"]])]),e("div",we,[e("div",$e,[e("div",ke,t(o.size),1),e("div",Ce,t(o.color),1)]),e("div",je,t(o.order_qty)+" X "+t(r(b).showCurrency(o.discount_price>0?o.discount_price:o.price)),1)])])]))),128))]),l(r(B),{as:"template",show:p.value},{default:v(()=>[l(r(U),{as:"div",class:"relative z-10",onClose:s[5]||(s[5]=o=>p.value=!1)},{default:v(()=>[l(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>s[6]||(s[6]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-50 transition-opacity"},null,-1)])),_:1}),e("div",Oe,[e("div",Se,[l(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[l(r(E),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all my-8 md:my-0 w-full sm:max-w-lg md:max-w-xl"},{default:v(()=>[e("div",De,[e("div",{class:"w-9 h-9 bg-slate-100 rounded-[32px] absolute top-4 right-4 flex justify-center items-center cursor-pointer",onClick:s[0]||(s[0]=o=>p.value=!1)},[l(r(Y),{class:"w-6 h-6 text-slate-600"})]),e("h2",Pe,t(a.$t("Rate Your Experience")),1),e("div",ze,[l(r(J),{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=o=>f.value=o),"star-size":42,inactiveColor:"#cbd5e1"},null,8,["modelValue"]),e("div",Me,[e("span",null,t(a.$t("Rating"))+":",1),k(" "+t(f.value),1)])]),e("div",null,[s[7]||(s[7]=e("label",{for:"description"},"Message",-1)),R(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=o=>h.value=o),class:"border border-gray-300 p-2 w-full rounded focus:border-primary outline-none",rows:"4",placeholder:a.$t("Enter your description")},null,8,Ae),[[L,h.value]])]),e("div",Re,[e("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[3]||(s[3]=o=>p.value=!1)},t(a.$t("Cancel")),1),e("button",{class:"bg-primary hover:bg-primary-600 text-white font-semibold py-3.5 px-4 rounded-lg focus:outline-none flex-grow",onClick:s[4]||(s[4]=o=>O())},t(a.$t("Submit")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},Ve={class:"bg-white rounded-lg md:rounded-2xl border border-slate-100 p-3 md:p-4 xl:p-6"},Ne={class:"text-slate-950 text-lg md:text-xl font-medium"},Te={class:"my-4 flex justify-between gap-4"},Ue={class:"text-slate-950 text-sm sm:text-base font-normal"},Ee={class:"text-slate-950 text-sm sm:text-base font-normal"},Ye={class:"my-4 flex justify-between gap-4"},Be={class:"text-slate-950 text-sm sm:text-base font-normal"},qe={class:"text-slate-950 text-sm sm:text-base font-normal"},Fe={class:"my-4 flex justify-between gap-4"},He={class:"text-red-500 text-sm sm:text-base font-normal"},Le={class:"text-slate-950 text-sm sm:text-base font-normal"},Ge={class:"my-4 flex justify-between gap-4"},Qe={class:"text-slate-950 text-sm sm:text-base font-normal"},We={class:"text-slate-950 text-sm sm:text-base font-normal"},Xe={class:"my-4 flex justify-between gap-4"},Je={class:"text-slate-950 text-sm sm:text-base tracking-tight"},Ke={class:"text-slate-950 text-sm sm:text-base tracking-tight"},Ze={class:"bg-slate-50 rounded md:rounded-lg border border-slate-100 p-2 lg:p-4 mt-2 flex flex-col gap-1 lg:gap-2"},et={class:"text-slate-500 text-xs font-normal"},tt={class:"text-slate-950 text-sm md:text-lg font-medium leading-tight flex items-center justify-between flex-wrap"},st={key:0,class:"text-red-500 text-sm font-normal bg-red-100 p-1 rounded-md flex gap-1 items-center"},at={key:1,class:"bg-emerald-500 text-sm font-normal text-white p-1 rounded-md flex items-center"},ot={class:"text-center text-primary text-xs md:text-sm font-normal underline leading-tight"},lt={class:"fixed inset-0 z-10 w-screen overflow-y-auto"},nt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},rt={class:"bg-white p-5 sm:p-8 text-center"},dt={class:"bg-red-500 w-14 h-14 md:w-20 md:h-20 rounded-full mx-auto flex justify-center items-center"},it={class:"mt-3 text-center text-gray-900 text-2xl md:text-3xl font-bold"},mt={class:"mt-4 text-center text-slate-700 text-base md:text-xl font-normal"},ct={class:"flex justify-between items-center gap-4 mt-8"},ut={__name:"OrderDetailsSummery",props:{order:Object},emits:["update:paymentSuccess"],setup(n,{emit:x}){const d=N(),m=V(),y=P(),i=_(!1),b=_(!1),f=_(!1);_(!1);const h=x,p=()=>{h("update:paymentSuccess",!0)},g=n;console.log("Order Summary : ",g.order);const w=()=>{axios.post("/orders/cancel",{order_id:g.order.id},{headers:{Authorization:y.token}}).then(a=>{m.success(a.data.message,{position:"bottom-left"}),y.orderCancel=!0}),i.value=!1},O=()=>{g.order.invoice_url?window.open(g.order.invoice_url,"_blank"):m.error("Invoice not found",{position:"bottom-left"})};return(a,s)=>{var o,$,z,M;return c(),u("div",null,[e("div",Ve,[e("div",Ne,t(a.$t("Order Summary")),1),e("div",Te,[e("div",Ue,t(a.$t("Items")),1),e("div",Ee,t(n.order.quantity),1)]),e("div",Ye,[e("div",Be,t(a.$t("Subtotal")),1),e("div",qe,t(r(d).showCurrency((o=n.order)==null?void 0:o.total_amount)),1)]),e("div",Fe,[e("div",He,t(a.$t("Discount")),1),e("div",Le," -"+t(r(d).showCurrency(($=n.order)==null?void 0:$.coupon_discount)),1)]),e("div",Ge,[e("div",Qe,t(a.$t("Shipping Charge")),1),e("div",We,t(r(d).showCurrency((z=n.order)==null?void 0:z.delivery_charge)),1)]),s[6]||(s[6]=e("div",{class:"w-full h-[0px] border border-slate-400"},null,-1)),e("div",Xe,[e("div",Je,t(a.$t("Total Amount")),1),e("div",Ke,t(r(d).showCurrency((M=n.order)==null?void 0:M.payable_amount)),1)]),e("div",Ze,[e("div",et,t(a.$t("PAYMENT METHOD")),1),e("div",tt,[k(t(n.order.payment_method)+" ",1),n.order.payment_status==="Pending"?(c(),u("span",st,[l(r(K),{class:"w-5 h-5"}),k(" "+t(n.order.payment_status),1)])):D("",!0),n.order.payment_status==="Paid"?(c(),u("span",at,[l(r(Z),{class:"w-5 h-5"}),k(" "+t(n.order.payment_status),1)])):D("",!0)])]),e("button",{class:"p-2 lg:p-4 mt-2 flex gap-1 lg:gap-2 items-center justify-center w-full",onClick:O},[s[5]||(s[5]=e("img",{src:"/assets/icons/cloud.svg",alt:"download",class:"w-4 h-4 md:w-6 md:h-6"},null,-1)),e("span",ot,t(a.$t("Download Invoice")),1)])]),s[8]||(s[8]=e("div",{class:"flex items-center gap-2"},null,-1)),n.order.order_status==="Delivered"?(c(),u("button",{key:0,class:"w-full mt-2 px-4 py-3 md:py-4 bg-primary rounded-lg text-white text-base font-medium",onClick:s[0]||(s[0]=C=>b.value=!0)},t(a.$t("Order Again")),1)):D("",!0),l(r(B),{as:"template",show:i.value},{default:v(()=>[l(r(U),{as:"div",class:"relative z-10",onClose:s[2]||(s[2]=C=>i.value=!1)},{default:v(()=>[l(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>s[7]||(s[7]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1}),e("div",lt,[e("div",nt,[l(r(j),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[l(r(E),{class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:v(()=>[e("div",rt,[e("div",dt,[l(r(Y),{class:"w-8 h-8 md:w-12 md:h-12 text-white"})]),e("div",it,t(a.$t("Cancel the Order"))+"! ",1),e("div",mt,t(a.$t("Are you sure want to cancel this order"))+"? ",1),e("div",ct,[e("button",{class:"text-slate-800 grow text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px] border border-slate-300",onClick:s[1]||(s[1]=C=>i.value=!1)},t(a.$t("Cancel")),1),e("button",{class:"text-white grow bg-red-500 text-base font-medium px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-[10px]",onClick:w},t(a.$t("Yes")),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),l(ee,{order:n.order,makePayment:f.value,againOrder:b.value,"onUpdate:makePayment":s[3]||(s[3]=C=>f.value=!1),"onUpdate:orderAgain":s[4]||(s[4]=C=>b.value=!1),"onUpdate:paymentSuccess":p},null,8,["order","makePayment","againOrder"])])}}},xt={class:"bg-white px-3 text-slate-600 flex items-center gap-1 pt-2"},ft={class:"leading-normal"},pt={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-6"},vt={class:"grid grid-cols-3 gap-4 md:gap-6 mt-4 p-3 md:p-4 xl:p-6 bg-white rounded-lg md:rounded-2xl"},ht={class:"col-span-3 lg:col-span-2 bg-white rounded-lg md:rounded-2xl border border-slate-100 p-3 md:p-4 xl:p-6"},gt={class:"text-slate-500 text-xs md:text-base font-normal leading-none"},yt={class:"flex items-center gap-3 mt-2"},_t=["src"],bt={class:"flex flex-wrap gap-2 justify-between items-start grow"},wt={class:"text-slate-950 text-sm md:text-base font-normal leading-tight"},$t={class:"flex items-center gap-1"},kt={class:"text-slate-800 text-xs md:text-base font-medium"},Ct={class:"text-slate-600 text-sm md:text-base font-normal leading-tight"},jt={class:"col-span-3 lg:col-span-1"},zt={__name:"OrderDetails",setup(n){const x=P(),d=G(),m=_({});Q(()=>x.orderCancel,()=>{x.orderCancel==!0&&y(),x.orderCancel=!1}),W(()=>{y(),window.scrollTo(0,0,{behavior:"smooth"})});const y=async()=>{axios.get("/order-details",{params:{order_id:d.params.id},headers:{Authorization:x.token}}).then(i=>{m.value=i.data.data.order})};return(i,b)=>{var h,p,g,w;const f=X("router-link");return c(),u("div",null,[e("div",xt,[l(r(te),{class:"w-5 h-5 md:w-6 md:h-6"}),l(f,{to:"/order-history",class:"leading-normal hover:text-primary"},{default:v(()=>[k(t(i.$t("Order History")),1)]),_:1}),e("span",ft,"/ "+t(i.$t("Order Details")),1)]),l(q,{title:i.$t("Order Details")},null,8,["title"]),e("div",pt,[l(ue,{order:m.value},null,8,["order"]),e("div",vt,[e("div",ht,[e("div",gt,t(i.$t("Purchased from")),1),e("div",yt,[e("img",{class:"w-9 h-9 md:w-12 md:h-12",src:(h=m.value.shop)==null?void 0:h.logo},null,8,_t),e("div",bt,[e("div",null,[e("div",wt,t((p=m.value.shop)==null?void 0:p.name),1),e("div",$t,[l(r(T),{class:"w-5 h-5 text-yellow-400"}),e("span",kt,t((g=m.value.shop)==null?void 0:g.rating),1)])])])]),b[0]||(b[0]=e("div",{class:"w-full h-[0px] border-t border-slate-200 my-3"},null,-1)),e("div",Ct,t(i.$t("Products"))+" ("+t((w=m.value.products)==null?void 0:w.length)+") ",1),l(Ie,{order:m.value,onRefresh:y},null,8,["order"])]),e("div",jt,[l(ut,{order:m.value,"onUpdate:paymentSuccess":y},null,8,["order"])])])])])}}};export{zt as default};
