import{_ as b,j as M,J as S,L as I,D as V,E as P,G as A,k as d,m as D,l as g,h as N,o as _,c as h,a as e,b as o,w as T,u as l,t as s,n as x,a1 as j,f as w,M as B,N as O}from"./app-BlqrRQNB.js";import{_ as q,a as z,C as E}from"./CheckoutOrderSummary-CuqZqEFi.js";import{_ as G}from"./CheckoutShippingAddress-HqesC0s7.js";import{r as R}from"./HomeIcon-hUtOk0tN.js";import"./TrashIcon-BhnuOdkw.js";import"./AddressForm-BS7MqmsW.js";import"./AddressFormModal-gEl_19-t.js";const H={class:"main-container"},J={class:"flex items-center gap-2 overflow-hidden pt-4"},L={class:"grow w-full overflow-hidden"},U={class:"space-x-1 text-slate-600 text-sm font-normal truncate"},W={class:"grid grid-cols-1 xl:grid-cols-3 my-3 gap-8"},F={class:"col-span-1 xl:col-span-2"},K={class:"flex gap-2 justify-between items-center"},Q={class:"text-slate-950 text-lg sm:text-3xl font-medium leading-10"},X={class:"text-primary-600 text-lg font-medium leading-normal tracking-tight"},Y={key:0},Z={class:"text-slate-950 font-bold leading-7 flex justify-center"},ee={key:1},te={class:"text-slate-950 pt-3 font-bold leading-7 flex justify-center"},se={class:"mt-6"},ae={class:"mb-1"},oe={class:"text-slate-950 text-xl font-medium leading-7"},ne={class:"text-slate-500 text-lg font-normal leading-7 tracking-tight"},le=["placeholder"],re={__name:"CheckoutVerify",setup(ie){const c=M(),k=new S,u=I();V();const m=P(),v=A(),n=d(!1),p=d(""),r=d("cash"),i=d(null),f=d(null);console.log("ID",u.params.id),console.log("Payment ID",u.query.payment_id),D(()=>{$(),window.scrollTo(0,0),m.coupon_code="",i.value=r.value,c.user||k.push({name:"home"}),c.showAddressModal=!1,c.showChangeAddressModal=!1});const $=async()=>{axios.get("/verify_payment",{params:{reference:u.params.id,payment_id:u.query.payment_id},headers:{Authorization:c.token}}).then(t=>{t.status===200&&(console.log(t),m.showOrderConfirmModal=!0)})};return g(r,()=>{r.value==="card"?i.value=f.value:i.value=r.value}),g(f,()=>{r.value==="card"&&(i.value=f.value)}),(t,a)=>{const C=N("router-link");return _(),h("div",H,[e("div",J,[o(C,{to:"/",class:"w-6 h-6"},{default:T(()=>[o(l(R),{class:"w-5 h-5 text-slate-600"})]),_:1}),e("div",L,[e("div",U,[e("span",null,s(t.$t("Home")),1),a[2]||(a[2]=e("span",null,"/",-1)),e("span",null,s(t.$t("Cart")),1),a[3]||(a[3]=e("span",null,"/",-1)),e("span",null,s(t.$t("Verify Payment")),1)])])]),e("div",W,[e("div",F,[e("div",{class:x(["py-4 border-b tran",n.value?"border-primary":"border-slate-200"])},[e("div",K,[e("div",Q,s(t.$t("Verifying Payment ... ")),1),e("div",{class:"flex items-center gap-2 cursor-pointer",onClick:a[0]||(a[0]=y=>n.value=!n.value)},[e("div",X," ("+s(l(m).checkoutTotalItems+l(v).total)+" "+s(t.$t("items"))+") ",1),o(l(j),{class:x(["w-5 h-5 text-primary-600 transition duration-300",n.value?"rotate-180":""])},null,8,["class"])])]),l(m).checkoutTotalItems>0&&n.value?(_(),h("div",Y,[e("h1",Z,s(t.$t("Product Cart Items")),1),o(q)])):w("",!0),l(v).total>0&&n.value?(_(),h("div",ee,[e("h1",te,s(t.$t("Services Cart Items")),1),o(z)])):w("",!0)],2),o(G),e("div",se,[e("div",ae,[e("span",oe,s(t.$t("Note")),1),e("span",ne," ("+s(t.$t("Optional"))+") ",1)]),B(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=y=>p.value=y),rows:"3",class:"form-input",placeholder:t.$t("Write your note")+"..."},null,8,le),[[O,p.value]])])]),o(E,{note:p.value,paymentMethod:i.value},null,8,["note","paymentMethod"])])])}}},he=b(re,[["__scopeId","data-v-a6884d8a"]]);export{he as default};
