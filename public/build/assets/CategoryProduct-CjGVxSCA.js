import{H,B as L,l as k,k as p,h as V,o as u,c as m,a as e,b as n,w as i,u as r,D as _,F as x,r as b,d as R,t as o,f as z,Y as A,O as C,P as Y,Q as G,E as K,K as w,R as O,S as Q,L as j,T as I}from"./app-CLQPDjmJ.js";import{S as M,a as J}from"./swiper-vue-NLyx9ag3.js";import{_ as W}from"./ProductCard-BjzGDPgM.js";import"./swiper-D8GLvp5l.js";import{r as X}from"./ArrowLeftIcon-NnCYhLLj.js";import{r as Z}from"./FunnelIcon-DWCBP_3P.js";const ee={class:"main-container py-4 bg-slate-100"},te={class:"w-full p-2 sm:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},ae={class:"grow overflow-x-auto"},se=["onClick"],le={class:"grow shrink basis-0"},oe={class:"main-container py-12"},re={class:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 items-start"},ne={key:0,class:"flex justify-center items-center w-full mt-8"},ie={class:"text-slate-800 text-base font-normal leading-normal"},de={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},ue={class:"text-slate-800 text-base font-normal leading-normal"},me={class:"fixed inset-0 overflow-hidden"},ce={class:"absolute inset-0 overflow-hidden"},pe={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},ve={class:"flex h-full flex-col justify-between overflow-y-scroll bg-white shadow-xl"},fe={class:"p-4 flex flex-col gap-7"},ge={class:"flex justify-between items-center"},xe={class:"text-slate-950 text-xl font-bold leading-loose"},be={class:"text-slate-950 text-base font-medium leading-normal"},ye={class:"flex flex-col gap-2 mt-3"},_e=["for"],we={class:"flex items-center gap-1"},he={class:"flex items-center"},Pe={class:"text-base font-medium leading-normal"},$e=["onUpdate:modelValue","id","value"],ke=["value"],Ce={class:"flex justify-between items-center gap-2"},Se={class:"text-slate-950 text-base font-medium leading-normal"},Be={class:"text-primary text-base font-normal leading-normal"},Ve={class:"flex mt-2 gap-2"},je={class:"text-slate-400 text-xs font-normal leading-none flex justify-between mt-2"},Me={class:"flex gap-6 p-6 border-t border-slate-200"},h=12,He={__name:"CategoryProduct",setup(Fe){const d=H();L(()=>{v(),B(),window.scrollTo(0,0)}),k(()=>d.params.slug,()=>{v(),B()}),k(()=>d.query.subcategory,()=>{v()});const c=p(1),F=l=>{c.value=l,v()},f=p(!1),a=p({rating:null,sort_by:null,minPrice:0,maxPrice:1e7}),P=p(!1);k(a.value,()=>{a.value.review||a.value.shortBy||a.value.brand||a.value.color||a.value.size||a.value.minPrice||a.value.maxPrice?P.value=!0:P.value=!1},{deep:!0});const T=[5,4,3,2,1],S=p([]),y=p([]),$=p(0),v=async()=>{axios.get("/products",{params:{category_id:d.params.slug,page:c.value,per_page:h,rating:a.value.rating,sort_by:a.value.sort_by,brand:a.value.brand,color:a.value.color,min_price:a.value.minPrice,max_price:a.value.maxPrice,sub_category_id:d.query.subcategory}}).then(l=>{$.value=l.data.data.total,y.value=l.data.data.products})},B=async()=>{axios.get("/sub-categories?category_id="+d.params.slug).then(l=>{S.value=l.data.data.sub_categories})},E=()=>{c.value=1,f.value=!1,v()},U=()=>{a.value={rating:null,sort_by:null,minPrice:0,maxPrice:1e7},v()},N=[{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Most Selling",value:"most_selling"},{name:"Top Seller",value:"top_seller"},{name:"New Product",value:"new_product"}];return(l,s)=>{const q=V("router-link"),D=V("vue-awesome-paginate");return u(),m("div",null,[e("div",ee,[e("div",te,[n(q,{to:"/",class:"py-2 flex gap-1 sm:gap-2 items-center justify-center"},{default:i(()=>[n(r(X),{class:"w-4 h-4 sm:w-6 sm:h-6 text-slate-600"}),s[8]||(s[8]=e("div",{class:"text-slate-600 text-sm sm:text-base font-normal leading-normal"},"Back",-1))]),_:1}),e("div",ae,[n(r(J),{slidesPerView:"auto",spaceBetween:16,class:"categorySwiper"},{default:i(()=>[n(r(M),null,{default:i(()=>[e("div",{class:_(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",r(d).query.subcategory?"border-slate-200 text-slate-600":"text-primary border-primary"]),onClick:s[0]||(s[0]=t=>l.$router.push(`/brands/${r(d).params.slug}`))}," All ",2)]),_:1}),(u(!0),m(x,null,b(S.value,t=>(u(),R(r(M),{key:t.id},{default:i(()=>[e("div",{class:_(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] border text-base font-normal leading-normal hover:text-primary cursor-pointer transition duration-300",t.id==r(d).query.subcategory?"text-primary border-primary":"border-slate-200 text-slate-600"]),onClick:g=>l.$router.push(`/categories/${r(d).params.slug}?subcategory=${t.id}`)},o(t.name),11,se)]),_:2},1024))),128))]),_:1})]),e("div",null,[e("button",{class:_(["p-2 sm:px-4 sm:py-3 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",P.value?" bg-primary-200 text-primary":"text-slate-600 bg-slate-200"]),onClick:s[1]||(s[1]=t=>f.value=!0)},[n(r(Z),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",le,o(l.$t("Filter")),1)],2)])])]),e("div",oe,[e("div",re,[(u(!0),m(x,null,b(y.value,t=>(u(),m("div",{key:t.id,class:"w-full"},[n(W,{product:t},null,8,["product"])]))),128))]),y.value.length==0?(u(),m("div",ne,[e("div",ie,o(l.$t("No products found")),1)])):z("",!0),e("div",de,[e("div",ue,o(l.$t("Showing"))+" "+o(h*(c.value-1)+1)+" to "+o(h*(c.value-1)+y.value.length)+" "+o(l.$t("of"))+" "+o($.value)+" "+o(l.$t("results")),1),e("div",null,[n(D,{"total-items":$.value,"items-per-page":h,type:"button","max-pages-shown":5,modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),"hide-prev-next-when-ends":!0,onClick:F},null,8,["total-items","modelValue"])])])]),n(r(I),{as:"template",show:f.value},{default:i(()=>[n(r(A),{as:"div",class:"relative z-10",onClose:s[7]||(s[7]=t=>f.value=!1)},{default:i(()=>[n(r(C),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>s[9]||(s[9]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])),_:1}),e("div",me,[e("div",ce,[e("div",pe,[n(r(C),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:i(()=>[n(r(Y),{class:"pointer-events-auto relative w-screen max-w-md"},{default:i(()=>[n(r(C),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>s[10]||(s[10]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])),_:1}),e("div",ve,[e("div",fe,[e("div",ge,[e("div",xe,o(l.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:s[3]||(s[3]=t=>f.value=!1)},[n(r(G),{class:"w-5 h-5 text-slate-700"})])]),e("div",null,[e("div",be,o(l.$t("Customer Review")),1),e("div",ye,[(u(),m(x,null,b(T,t=>e("div",{key:t,class:"grow"},[e("label",{for:`rating${t}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between px-2 py-1.5 bg-white rounded-lg border border-slate-100 gap-1.5"},[e("div",we,[e("div",he,[(u(),m(x,null,b(5,g=>n(r(K),{key:g,class:_(["w-5 h-5",g<=t?"text-amber-500":"text-gray-200"])},null,8,["class"])),64))]),e("div",Pe,o(t)+".0 ",1)]),w(e("input",{type:"radio","onUpdate:modelValue":g=>a.value.rating=g,id:`rating${t}`,name:"rating",value:t,class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,$e),[[O,a.value.rating]])],8,_e)])),64))])]),e("div",null,[s[11]||(s[11]=e("div",{class:"text-slate-950 text-base font-medium leading-normal"},"Sort by ",-1)),w(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.sort_by=t),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(u(),m(x,null,b(N,t=>e("option",{key:t,value:t.value},o(t.name),9,ke)),64))],512),[[Q,a.value.sort_by]])]),e("div",null,[e("div",Ce,[e("div",Se,o(l.$t("Product"))+" Price ",1),e("div",Be,o(l.$t("ETB 0 - ETB 10000000")),1)]),e("div",Ve,[w(e("input",{type:"number","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.minPrice=t),min:"0",max:"10000000",placeholder:"Min Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[j,a.value.minPrice]]),w(e("input",{type:"number","onUpdate:modelValue":s[6]||(s[6]=t=>a.value.maxPrice=t),min:"0",max:"10000000",placeholder:"Max Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[j,a.value.maxPrice]])]),e("div",je,[e("span",null," Min Price : ETB "+o(a.value.minPrice||0),1),e("span",null," Max Price : ETB "+o(a.value.maxPrice||1e7),1)])])]),e("div",Me,[e("button",{onClick:U,class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal"},o(l.$t("Clear")),1),e("button",{onClick:E,class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal"},o(l.$t("Apply")),1)])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])])}}};export{He as default};
