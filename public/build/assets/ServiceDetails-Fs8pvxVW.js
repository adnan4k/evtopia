import{k as o,P as O,L as Q,J as W,D as X,E as Y,G as Z,j as ee,m as te,l as se,h as ae,o as a,c as i,a as e,F as c,d as u,g as B,t as n,f as T,b as h,e as V,w as M,u as N}from"./app-BZZix_vg.js";import{_ as le}from"./PopularProducts-CLd0qNec.js";import{S as oe,a as ie}from"./swiper-vue-5bg48xu9.js";import{N as ne}from"./navigation-mOXyV9i5.js";import{T as re}from"./thumbs-NG0X_g2n.js";import{_ as de,a as ce,f as ue}from"./Review-DwPqqS7D.js";/* empty css                                                                  */import"./swiper-D8GLvp5l.js";/* empty css                  *//* empty css                   */import"./thumbs-l0sNRNKZ.js";import"./ProductCard-C_veGjv6.js";const ve={class:""},me={key:0,class:"main-container space-y-6 animate-pulse py-8"},pe={class:"grid grid-cols-4 gap-2"},ge={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},he={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-5 gap-3"},fe={key:1},_e={class:"hero flex flex-col md:flex-row justify-center gap-4 md:justify-between items-center px-5 md:px-10 lg:px-20 bg-primary h-40"},xe={class:"text-white text-center md:text-left text-xl md:text-2xl font-medium leading-normal"},we={class:"main-container"},be={class:"px-2 md:px-8 grid grid-cols-1 xl:grid-cols-4 mt-10"},ye={class:"xl:col-span-3 col-span-1 lg:pr-6"},ke={class:"flex flex-wrap lg:flex-nowrap gap-4 md:pr-10 mt-6"},Se={class:""},Ce={class:"mt-3 text-slate-950 text-2xl font-medium leading-normal"},Re={class:"mt-2 text-slate-700 text-base font-normal leading-normal"},De={key:0,class:"mt-6"},$e=["innerHTML"],je={key:1,class:""},Ee={class:"text-slate-950 text-lg lg:text-2xl font-medium leading-loose mb-4"},Be={class:"max-w-2xl"},Te={class:"border-t border-slate-200 mt-6"},Ve={class:"mt-4 lg:mt-6 text-slate-950 text-lg lg:text-2xl font-medium leading-loose"},Me={class:"space-y-6 mt-6"},Ne={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Pe={class:"text-slate-800 text-base font-normal leading-normal"},ze={class:""},Le={class:"w-full"},Ae={class:"w-full"},He={class:"bg-slate-50 rounded-xl border border-slate-100"},Ue=["src"],Fe={class:"mt-4 xl:mt-6 text-slate-800 text-lg md:text-2xl font-bold leading-9"},Ge={class:"gap-3 sm:gap-6 items-start mt-4 mb-6"},Ie=["src"],lt={__name:"ServiceDetails",setup(Je){o(7*60*60*1e3),O();const P=o(null),m=o(!0),C=o([]),z=[ue,ne,re],f=()=>{window.dispatchEvent(new Event("open-contact-popup"))},d=Q(),L=W();X();const A=Y(),_=Z(),R=ee();console.log("Basket store ",A),console.log("Service store ",_);const H=o({service_id:d.params.id}),r=o({}),x=o([]),U=o([]),D=o(!0),$=o(!1),F=o(null),G=()=>{m.value=!0,axios.get("/popularProducts",{headers:{Authorization:R.token}}).then(t=>{C.value=t.data.data.products}).catch(()=>{}).finally(()=>{m.value=!1})};te(()=>{j(),window.scrollTo(0,0),w(d.params.id),G()}),se(d,()=>{j(),D.value=!0,$.value=!1,window.scrollTo({top:0,behavior:"smooth"}),H.value.service_id=d.params.id,w(d.params.id)});const w=t=>{let l=null;console.log("Cart service ",_.services),_.services.forEach(k=>{if(k.service.id==t)return l=r}),F.value=l},j=async()=>{axios.get("/service-details",{params:{service_id:d.params.id},headers:{Authorization:R.token}}).then(t=>{r.value=t.data.data.product,console.log(r.value),x.value=t.data.data.related_products,U.value=t.data.data.popular_products,console.log("service details ",x.value),w(d.params.id)}).catch(t=>{console.error("Error fetching service details:",t)}).finally(()=>{m.value=!1})},I=()=>{L.push({name:"serviceDetails",params:{id:r.value.id}})},p=o({}),b=o(0),y=o([]),v=o(1),g=o(6),J=t=>{v.value=t,q()},q=async()=>{axios.get("/reviews",{params:{service_id:d.params.id,page:v.value,per_page:g.value}}).then(t=>{b.value=t.data.data.total,y.value=t.data.data.reviews,p.value=t.data.data.average_rating_percentage})};return(t,l)=>{var E;const k=ae("vue-awesome-paginate");return a(),i("div",ve,[m.value?(a(),i("div",me,[l[1]||(l[1]=e("div",{class:"flex items-center gap-2 pt-4"},[e("div",{class:"w-6 h-6 bg-slate-200 rounded"}),e("div",{class:"flex-1 h-4 bg-slate-200 rounded"})],-1)),l[2]||(l[2]=e("div",{class:"w-full h-96 bg-slate-200 rounded-xl"},null,-1)),e("div",pe,[(a(),i(c,null,u(4,s=>e("div",{key:s,class:"h-24 bg-slate-200 rounded"})),64))]),l[3]||(l[3]=B('<div class="space-y-2 lg:pl-6"><div class="h-8 bg-slate-200 rounded w-1/2"></div><div class="h-4 bg-slate-200 rounded w-1/4"></div></div><div class="h-4 bg-slate-200 rounded w-full"></div><div class="h-4 bg-slate-200 rounded w-5/6"></div>',3)),e("div",ge,[(a(),i(c,null,u(3,s=>e("div",{key:s,class:"h-6 bg-slate-200 rounded"})),64))]),l[4]||(l[4]=B('<div class="flex items-center gap-4"><div class="h-10 bg-slate-200 rounded w-32"></div><div class="h-6 bg-slate-200 rounded w-20"></div></div><div class="flex gap-4"><div class="h-10 bg-slate-200 rounded flex-1"></div><div class="h-10 bg-slate-200 rounded flex-1"></div></div><div class="mt-6 h-6 bg-slate-200 rounded w-1/4"></div>',3)),e("div",he,[(a(),i(c,null,u(5,s=>e("div",{key:s,class:"h-48 bg-slate-200 rounded"})),64))])])):(a(),i("div",fe,[e("div",_e,[e("div",xe,n(r.value.name),1),e("div",null,[e("button",{onClick:f,class:"px-3 py-2 bg-white text-primary text-sm font-medium leading-none rounded"}," Contact for Service ")])]),e("div",we,[e("div",be,[e("div",ye,[e("div",ke,[e("div",Se,[e("div",null,[(a(!0),i(c,null,u(r.value.categories||["Uncategorized"],(s,S)=>(a(),i("span",{key:S,class:"text-primary text-xs font-normal leading-none px-1.5 py-1 bg-primary-50 rounded"},n(s),1))),128))]),e("div",Ce,n(r.value.name),1),e("div",Re,n(r.value.short_description),1),e("div",{class:"w-full flex md:pr-10 border border-slate-300 rounded-lg py-3 px-3 items-center justify-between mt-3"},[l[5]||(l[5]=e("h1",null," Do you need this service? ",-1)),e("button",{onClick:f,class:"px-3 py-2 bg-primary text-white text-sm font-medium leading-none rounded"}," Contact Evtopia ")])])]),D.value?(a(),i("div",De,[e("div",{innerHTML:r.value.description},null,8,$e)])):T("",!0),$.value?(a(),i("div",je,[e("div",Ee,n(t.$t("Rating and Review")),1),e("div",Be,[h(de,{reviewRatings:p.value.percentages,avarageRating:(E=p.value)==null?void 0:E.rating,totalReview:p.value.total_review},null,8,["reviewRatings","avarageRating","totalReview"])]),e("div",Te,[e("div",Ve,n(t.$t("Reviews")),1),e("div",Me,[(a(!0),i(c,null,u(y.value,s=>(a(),V(ce,{key:s.id,review:s},null,8,["review"]))),128))]),e("div",Ne,[e("div",Pe,n(t.$t("Showing"))+" "+n(g.value*(v.value-1)+1)+" "+n(t.$t("to"))+" "+n(g.value*(v.value-1)+y.value.length)+" "+n(t.$t("of"))+" "+n(b.value)+" "+n(t.$t("results")),1),e("div",null,[h(k,{"total-items":b.value,"items-per-page":g.value,type:"button","max-pages-shown":3,modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=s=>v.value=s),"hide-prev-next-when-ends":!0,onClick:J},null,8,["total-items","items-per-page","modelValue"])])])])])):T("",!0),e("div",{class:"w-full my-12 flex md:pr-10 border border-slate-300 rounded-lg py-3 px-3 items-center justify-between mt-3"},[l[6]||(l[6]=e("h1",null," Do you need this service? ",-1)),e("button",{onClick:f,class:"px-3 py-2 bg-primary text-white text-sm font-medium leading-none rounded"}," Contact Evtopia ")])]),e("div",ze,[e("div",Le,[e("div",Ae,[e("div",He,[h(N(ie),{spaceBetween:10,thumbs:{swiper:P.value},modules:z,class:"product-details-slider"},{default:M(()=>[(a(!0),i(c,null,u(r.value.thumbnails,s=>(a(),V(N(oe),{key:s.id,class:"w-full h-auto"},{default:M(()=>[e("img",{src:s.thumbnail,alt:"",class:"h-full w-full object-contain"},null,8,Ue)]),_:2},1024))),128))]),_:1},8,["thumbs"])]),e("div",Fe,n(t.$t("Similar Services")),1),e("div",Ge,[(a(!0),i(c,null,u(x.value,s=>(a(),i("div",{key:s.id},[e("div",{class:"w-full card gap-4 flex border-b border-slate-200 pb-2 cursor-pointer",onClick:I},[e("img",{src:s.thumbnail,alt:"",class:"w-32 rounded-lg object-contain"},null,8,Ie),e("div",null,[e("div",null,[e("h1",null,n(s.name),1),(a(!0),i(c,null,u(s.categories||["Uncategorized"],(S,K)=>(a(),i("span",{key:K,class:"text-primary text-xs font-normal leading-none px-1.5 py-1 bg-primary-50 rounded"},n(S),1))),128))])])])]))),128))])])])])])])])),h(le,{products:C.value,loading:m.value},null,8,["products","loading"])])}}};export{lt as default};
