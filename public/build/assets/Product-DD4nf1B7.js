import{o as c,c as p,a as e,t as r,b as l,w as _,F as $,r as j,d as I,u as m,f as V,j as z,k as i,l as S,i as O,y as G,B as K,I as Q,K as k,L as F,M as q,Y as J,O as M,P as W,Q as X,E as Z,D as ee,R as te,S as ae,T as se}from"./app-D821F2Z1.js";import{S as oe,a as le}from"./swiper-vue-CXhhAOA4.js";import{N as re}from"./navigation-mOXyV9i5.js";import{A as ne,_ as ie,a as de,b as ue}from"./RecentlyViews.vue_vue_type_style_index_0_lang-BVTJiq_M.js";import{_ as ce}from"./ProductCardHorizontal-cOfNtPyw.js";import"./swiper-D8GLvp5l.js";/* empty css                   */import{_ as me}from"./ProductCard-hJ2YOwTB.js";import{r as pe}from"./FunnelIcon-BLTsm02f.js";import"./CategoryCard-CBCB4-1X.js";import"./ArrowRightIcon-CWi0TSxp.js";const ve={key:0,class:"main-container py-12 bg-slate-100 border-t border-slate-200"},fe={class:"text-slate-800 text-lg md:text-3xl font-bold leading-9"},xe={class:"mt-4"},ge={__name:"RecentlyViews",props:{products:Array},setup(w){const u=w,f=[re,ne],x={320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}};return(h,b)=>{var n;return((n=u==null?void 0:u.products)==null?void 0:n.length)>0?(c(),p("div",ve,[e("div",fe,r(h.$t("Recently Viewed")),1),e("div",xe,[l(m(le),{navigation:!0,modules:f,breakpoints:x,class:"recentlyViewed",loop:!1},{default:_(()=>[(c(!0),p($,null,j(w.products,v=>(c(),I(m(oe),{key:v.id},{default:_(()=>[l(ce,{product:v},null,8,["product"])]),_:2},1024))),128))]),_:1})])])):V("",!0)}}},he={class:"main-container bg-white pb-12"},_e={key:0,class:"mt-4 md:mt-8 grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-6 items-start"},be={class:"mt-4 md:mt-8 w-full flex justify-center"},ye={key:1,class:"md:w-[448px] px-6 py-2 md:py-4 rounded-[10px] border border-primary-200 text-primary flex items-center justify-center cursor-not-allowed",disabled:""},we={__name:"AllProducts",props:{justForYou:Object},setup(w){const u=z(),f=w;console.log("Props : ",f==null?void 0:f.justForYou);const x=i(2),h=i(!1),b=i(1),n=i(!1),v=i([]);S(()=>f.justForYou,()=>{var g,d;v.value=(g=f.justForYou)==null?void 0:g.products,b.value=Math.ceil(((d=f.justForYou)==null?void 0:d.total)/12),b.value>1&&(h.value=!0)});const P=()=>{n.value=!0,axios.get("/home?page="+x.value+"&per_page=12",{headers:{Authorization:u.token}}).then(g=>{v.value=v.value.concat(g.data.data.just_for_you.products),x.value++,x.value>=b.value&&(h.value=!1),n.value=!1}).catch(g=>{n.value=!1,console.log(g)})};return(g,d)=>(c(),p("div",he,[v.value?(c(),p("div",_e,[(c(!0),p($,null,j(v.value,a=>(c(),p("div",{key:a.id,class:"w-full"},[l(me,{product:a},null,8,["product"])]))),128))])):V("",!0),e("div",be,[h.value&&!n.value?(c(),p("button",{key:0,class:"md:w-[448px] px-6 py-2 md:py-4 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal",onClick:d[0]||(d[0]=a=>P())},d[1]||(d[1]=[e("span",null,r("Load More Products"),-1)]))):V("",!0),n.value?(c(),p("button",ye,d[2]||(d[2]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),O(" "+r("Loading products")+"... ")]))):V("",!0)])]))}},Pe={class:"main-container py-4 bg-slate-100"},ke={class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},$e={class:"w-full"},je={class:"relative overflow-hidden grow"},Ve=["placeholder"],Ce={class:"grow shrink basis-0"},Fe={class:"grow flex justify-between items-center px-2 md:px-4 overflow-x-auto whitespace-nowrap"},Me={class:"text-primary text-xs"},Se={class:"text-slate-800 text-xs font-normal pl-2"},Be={key:0},Ae={class:"fixed inset-0 overflow-hidden"},Ye={class:"absolute inset-0 overflow-hidden"},Te={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},ze={class:"flex h-full flex-col justify-between overflow-y-scroll bg-white shadow-xl"},Ne={class:"p-4 flex flex-col gap-7"},Re={class:"flex justify-between items-center"},Ee={class:"text-slate-950 text-xl font-bold leading-loose"},Le={class:"text-slate-950 text-base font-medium leading-normal"},Ue={class:"flex flex-col gap-2 mt-3"},De=["for"],He={class:"flex items-center gap-1"},Ie={class:"flex items-center"},Oe={class:"text-base font-medium leading-normal"},Ge=["onUpdate:modelValue","id","value"],Ke=["value"],Qe={class:"flex justify-between items-center gap-2"},qe={class:"text-slate-950 text-base font-medium leading-normal"},Je={class:"text-primary text-base font-normal leading-normal"},We={class:"flex mt-2 gap-2"},Xe={class:"text-slate-400 text-xs font-normal leading-none flex justify-between mt-2"},Ze={class:"flex gap-6 p-6 border-t border-slate-200"},et=12,mt={__name:"Product",setup(w){const u=G(),f=i([]),x=z(),h=i([]),b=i([]);K(()=>{n.value=u.search||"",D(),y(),g(),window.scrollTo(0,0)});const n=i(""),v=Q(()=>n.value||u.search||"");S(()=>v,()=>{y()}),S(()=>u.search,()=>{n.value=u.search||"",y()});const P=i(1),g=()=>{x.token&&axios.get("/recently-views",{headers:{Authorization:x.token}}).then(o=>{f.value=o.data.data.products}).catch(()=>{})},d=i(!1),a=i({rating:null,sort_by:null,minPrice:0,maxPrice:1e7}),N=[5,4,3,2,1],B=i([]),R=i([]),A=i(0),Y=i([]),y=async()=>{const o={page:P.value,per_page:et,search:v.value,rating:a.value.rating,sort_by:a.value.sort_by,brand:a.value.brand,color:a.value.color,min_price:a.value.minPrice,max_price:a.value.maxPrice};axios.get("/products",{params:o}).then(t=>{A.value=t.data.data.total,R.value=t.data.data.products,h.value=t.data.data})},E=()=>{P.value=1,d.value=!1,y()},L=()=>{a.value={rating:null,sort_by:null,minPrice:0,maxPrice:1e7},y()},U=()=>{a.value={rating:null,sort_by:null,minPrice:0,maxPrice:1e7},n.value="",u.search="",y()},T=()=>{n.value&&(u.search=""),P.value=1,y()},D=()=>{axios.get("/home?page=1&per_page=12",{headers:{Authorization:x.token}}).then(o=>{Y.value=o.data.data.popular_products,b.value=o.data.data.shops.slice(0,4),B.value=o.data.data.categories}).catch(()=>{}),axios.get("/categories").then(o=>{u.categories=o.data.data.categories}).catch(()=>{})},H=[{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Popular Product",value:"popular_product"},{name:"Top Selling",value:"top_selling"},{name:"New Product",value:"newest"}];return(o,t)=>(c(),p("div",null,[l(ie,{categories:B.value},null,8,["categories"]),e("div",Pe,[e("div",ke,[e("div",$e,[e("div",je,[k(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),placeholder:o.$t("Search product"),class:"px-2 py-2 md:py-3 block rounded-lg border border-slate-200 focus:border-primary w-full placeholder:text-gray-400 outline-none text-base font-normal leading-normal",onInput:T},null,40,Ve),[[F,n.value]]),e("button",{class:"bg-primary h-full w-10 md:w-14 border-none absolute right-0 top-0 rounded-r-lg flex items-center justify-center",onClick:t[1]||(t[1]=s=>T())},[l(m(q),{class:"w-6 h-6 text-white"})])])]),e("div",null,[e("button",{class:"p-2 sm:px-4 sm:py-3 bg-slate-200 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-slate-600 text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",onClick:t[2]||(t[2]=s=>d.value=!0)},[l(m(pe),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",Ce,r(o.$t("Filter")),1)])])]),e("div",Fe,[e("div",null,[e("span",Me,"“"+r(v.value||"all")+"”",1),e("span",Se,r(A.value)+" "+r(o.$t("items found")),1)]),e("div",null,[e("button",{class:"text-red-500 text-xs",onClick:U}," Reset Filter ")])])]),l(we,{justForYou:h.value},null,8,["justForYou"]),l(de,{products:Y.value},null,8,["products"]),m(u).getMultiVendor?(c(),p("div",Be,[l(ue,{shops:b.value},null,8,["shops"])])):V("",!0),l(ge,{products:f.value},null,8,["products"]),l(m(se),{as:"template",show:d.value},{default:_(()=>[l(m(J),{as:"div",class:"relative z-10",onClose:t[7]||(t[7]=s=>d.value=!1)},{default:_(()=>[l(m(M),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>t[8]||(t[8]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])),_:1}),e("div",Ae,[e("div",Ye,[e("div",Te,[l(m(M),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:_(()=>[l(m(W),{class:"pointer-events-auto relative w-screen max-w-md"},{default:_(()=>[l(m(M),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>t[9]||(t[9]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])),_:1}),e("div",ze,[e("div",Ne,[e("div",Re,[e("div",Ee,r(o.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:t[3]||(t[3]=s=>d.value=!1)},[l(m(X),{class:"w-5 h-5 text-slate-700"})])]),e("div",null,[e("div",Le,r(o.$t("Customer Review")),1),e("div",Ue,[(c(),p($,null,j(N,s=>e("div",{key:s,class:"grow"},[e("label",{for:`rating${s}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between px-2 py-1.5 bg-white rounded-lg border border-slate-100 gap-1.5"},[e("div",He,[e("div",Ie,[(c(),p($,null,j(5,C=>l(m(Z),{key:C,class:ee(["w-5 h-5",C<=s?"text-amber-500":"text-gray-200"])},null,8,["class"])),64))]),e("div",Oe,r(s)+".0 ",1)]),k(e("input",{type:"radio","onUpdate:modelValue":C=>a.value.rating=C,id:`rating${s}`,name:"rating",value:s,class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,Ge),[[te,a.value.rating]])],8,De)])),64))])]),e("div",null,[t[10]||(t[10]=e("div",{class:"text-slate-950 text-base font-medium leading-normal"},"Sort by ",-1)),k(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.sort_by=s),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(c(),p($,null,j(H,s=>e("option",{key:s,value:s.value},r(s.name),9,Ke)),64))],512),[[ae,a.value.sort_by]])]),e("div",null,[e("div",Qe,[e("div",qe,r(o.$t("Product"))+" Price ",1),e("div",Je,r(o.$t("ETB 0 - ETB 10000000")),1)]),e("div",We,[k(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.minPrice=s),min:"0",max:"10000000",placeholder:"Min Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[F,a.value.minPrice]]),k(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>a.value.maxPrice=s),min:"0",max:"10000000",placeholder:"Max Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[F,a.value.maxPrice]])]),e("div",Xe,[e("span",null," Min Price : ETB "+r(a.value.minPrice||0),1),e("span",null," Max Price : ETB "+r(a.value.maxPrice||1e7),1)])])]),e("div",Ze,[e("button",{onClick:L,class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal"},r(o.$t("Clear")),1),e("button",{onClick:E,class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal"},r(o.$t("Apply")),1)])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])]))}};export{mt as default};
