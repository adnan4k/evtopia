import{_ as V,D as P,h as C,o as g,c as f,a as e,t,n as $,u as O,b as w,w as L,i as c,j as U,k as _,l as j,m as D,M as p,T as v,F as T,d as A,f as B}from"./app-BfEYhWiw.js";import{_ as H}from"./AuthPageheader-DUhwZ1qC.js";/* empty css                                                                              */const I={class:"p-2 md:px-4 md:py-3 bg-white rounded-lg border border-slate-100 flex gap-2 lg:gap-4 flex-col lg:flex-row items-center justify-between"},N={class:"w-full lg:w-[50%] flex flex-col overflow-hidden"},W={class:"flex gap-1 justify-between"},M={class:"text-sm sm:text-base font-normal shrink-0"},S={class:"text-slate-500"},F={class:"text-blue-500"},z={class:"inline-flex gap-2 text-xs sm:text-sm leading-tight text-ellipsis"},q={class:"text-slate-500 shrink-0"},E={class:"text-slate-950 whitespace-nowrap text-ellipsis overflow-hidden"},Q={class:"grow flex w-full gap-2 items-center justify-between"},R={class:"text-sm sm:text-base font-normal xl:w-20"},Y={class:"text-slate-500"},G={class:"text-slate-950"},J={class:"text-sm sm:text-base font-normal xl:w-36"},K={class:"text-slate-500"},X={class:"text-slate-950"},Z={class:"hidden lg:block xl:w-28"},ee={class:"flex justify-end"},te={__name:"BookingHistoryOrderItem",props:{order:Object},setup(b){const n=b,o=P();return(i,h)=>{var u,d,x,m,s,l,y,a,k;const r=C("router-link");return g(),f("div",I,[e("div",N,[e("div",W,[e("div",M,[e("span",S,t(i.$t("Order ID")),1),e("span",F,t((u=n.order)==null?void 0:u.booking_code),1)]),e("div",{class:$(["text-xs sm:text-sm font-normal px-1.5 py-0.5 rounded-[10px] inline-block lg:hidden text-ellipsis overflow-hidden",(d=n.order)==null?void 0:d.order_status])},t((x=n.order)==null?void 0:x.order_status),3)]),e("div",z,[e("span",q,t(i.$t("Placed on")),1),e("span",E,t((m=n.order)==null?void 0:m.placed_at),1)])]),e("div",Q,[e("div",R,[e("span",Y,t(i.$t("QTY"))+": ",1),e("span",G,t((s=n.order)==null?void 0:s.quantity),1)]),e("div",J,[e("span",K,t(i.$t("Amount"))+": ",1),e("span",X,t(O(o).showCurrency((l=n.order)==null?void 0:l.amount)),1)]),e("div",Z,[e("div",{class:$(["text-sm font-normal px-1.5 py-0.5 rounded-[10px] inline-block",(y=n.order)==null?void 0:y.order_status])},t((a=n.order)==null?void 0:a.order_status),3)]),e("div",ee,[w(r,{to:"/booking-history/"+((k=n.order)==null?void 0:k.id),class:"text-slate-500 text-sm sm:text-base font-normal leading-normal"},{default:L(()=>[c(t(i.$t("View Details")),1)]),_:1},8,["to"])])])])}}},se=V(te,[["__scopeId","data-v-efa2ff8f"]]),ae={class:"bg-white px-3 border-t border-slate-100 flex gap-4 md:gap-8 overflow-x-auto"},le={class:"statusLinkBtn",for:"Pending"},oe={class:"statusLinkBtn",for:"Confirm"},ne={class:"statusLinkBtn",for:"Processing"},de={class:"statusLinkBtn",for:"OnTheWay"},ie={class:"statusLinkBtn",for:"delivered"},re={class:"statusLinkBtn",for:"Cancelled"},ue={class:"statusLinkBtn",for:"All"},ce={class:"px-2 pt-2 md:px-4 md:pt-4 lg:px-6 lg:pt-6"},pe={class:"p-4 lg:p-6 bg-white rounded-xl flex flex-col gap-3"},ve={key:0},me={key:0,class:"px-2 md:px-4 lg:px-6 mt-4"},_e={class:"bg-white p-3 rounded-xl flex justify-between items-center w-full gap-4 flex-wrap"},ge={class:"text-slate-800 text-base font-normal leading-normal"},fe={__name:"BookingHistory",setup(b){const n=U(),o=_("Pending"),i=_([]),h=_(20),r=_(1),u=_(10),d=_({all:0,pending:0,confirm:0,processing:0,on_the_way:0,delivered:0,cancelled:0}),x=s=>{r.value=s,m()};j(o,()=>{r.value=1,m()}),D(()=>{m()});const m=async()=>{axios.get("/bookings",{params:{order_status:o.value,page:r.value,per_page:u.value},headers:{Authorization:n.token}}).then(s=>{console.log("Booking : ",s),h.value=s.data.data.total,i.value=s.data.data.orders,d.value=s.data.data.status_wise_orders}).catch(s=>{console.error(s),n.logout()})};return(s,l)=>{const y=C("vue-awesome-paginate");return g(),f("div",null,[w(H,{title:"Booking History"}),e("div",ae,[e("label",le,[p(e("input",{type:"radio","onUpdate:modelValue":l[0]||(l[0]=a=>o.value=a),name:"status",class:"sr-only",value:"Pending",id:"Pending",checked:""},null,512),[[v,o.value]]),c(" "+t(s.$t("Pending"))+" ("+t(d.value.pending)+") ",1)]),e("label",oe,[p(e("input",{type:"radio","onUpdate:modelValue":l[1]||(l[1]=a=>o.value=a),name:"status",class:"sr-only",value:"Confirm",id:"Confirm"},null,512),[[v,o.value]]),c(" "+t(s.$t("Confirm"))+" ("+t(d.value.confirm)+") ",1)]),e("label",ne,[p(e("input",{type:"radio","onUpdate:modelValue":l[2]||(l[2]=a=>o.value=a),name:"status",class:"sr-only",value:"Processing",id:"Processing"},null,512),[[v,o.value]]),c(" "+t(s.$t("Processing"))+" ("+t(d.value.processing)+") ",1)]),e("label",de,[p(e("input",{type:"radio","onUpdate:modelValue":l[3]||(l[3]=a=>o.value=a),name:"status",class:"sr-only",value:"On The Way",id:"OnTheWay"},null,512),[[v,o.value]]),c(" "+t(s.$t("On The Way"))+" ("+t(d.value.on_the_way)+") ",1)]),e("label",ie,[p(e("input",{type:"radio","onUpdate:modelValue":l[4]||(l[4]=a=>o.value=a),name:"status",class:"sr-only",value:"Delivered",id:"delivered"},null,512),[[v,o.value]]),c(" "+t(s.$t("Delivered"))+" ("+t(d.value.delivered)+") ",1)]),e("label",re,[p(e("input",{type:"radio","onUpdate:modelValue":l[5]||(l[5]=a=>o.value=a),name:"status",class:"sr-only",value:"cancelled",id:"Cancelled"},null,512),[[v,o.value]]),c(" "+t(s.$t("Cancelled"))+" ("+t(d.value.cancelled)+") ",1)]),e("label",ue,[p(e("input",{type:"radio","onUpdate:modelValue":l[6]||(l[6]=a=>o.value=a),name:"status",class:"sr-only",value:"",id:"All"},null,512),[[v,o.value]]),c(" "+t(s.$t("All"))+" ("+t(d.value.all)+") ",1)])]),e("div",ce,[e("div",pe,[(g(!0),f(T,null,A(i.value,a=>(g(),f("div",{key:a.id},[w(se,{order:a},null,8,["order"])]))),128)),i.value.length==0?(g(),f("div",ve,[e("p",null,t(s.$t("No Order Found")),1)])):B("",!0)])]),h.value>u.value?(g(),f("div",me,[e("div",_e,[e("div",ge,t(s.$t("Showing"))+" "+t(u.value*(r.value-1)+1)+" "+t(s.$t("to"))+" "+t(u.value*(r.value-1)+i.value.length)+" "+t(s.$t("of"))+" "+t(h.value)+" "+t(s.$t("results")),1),e("div",null,[w(y,{"total-items":h.value,"items-per-page":u.value,type:"button","max-pages-shown":3,modelValue:r.value,"onUpdate:modelValue":l[7]||(l[7]=a=>r.value=a),"hide-prev-next-when-ends":!0,onClick:x},null,8,["total-items","items-per-page","modelValue"])])])])):B("",!0)])}}},we=V(fe,[["__scopeId","data-v-cdea32a3"]]);export{we as default};
