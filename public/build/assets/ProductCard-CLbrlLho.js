import{G as rt,y as it,z as dt,j as at,N as ct,k as nt,o as s,c as o,a as e,D as c,t as r,f as i,b as u,u as n,V as lt,U as ut,E as pt}from"./app-C80njdUk.js";const ht={class:"flex flex-col"},_t={class:"bg-white"},ft=["src"],xt={key:0,class:"px-1 py-0.5 bg-red-500 rounded-2xl text-white text-xs font-medium absolute top-2 left-2"},vt={class:"bg-white p-2 flex flex-col items-start gap-2 col-span-2"},mt={key:0},gt={class:"text-muted text-xs"},yt={class:"flex justify-between items-center w-full"},bt={class:"flex items-center gap-2"},wt={class:"text-primary text-base font-bold leading-normal"},kt={key:0,class:"text-slate-400 text-sm font-normal line-through leading-tight"},jt={key:0},Ct={class:"flex justify-between items-center w-full"},qt={key:0,class:"flex items-center gap-1"},$t={class:"text-slate-950 text-xs font-bold leading-tight"},St={key:1,class:"h-3 w-[0px] border border-slate-300"},Bt={key:2,class:"flex items-center gap-1"},zt={class:"text-slate-950 text-xs font-bold leading-tight"},Dt={key:3,class:"h-3 w-[0px] border border-slate-300"},Nt={key:4,class:"flex items-center gap-1"},Pt={class:"text-slate-950 text-xs font-bold leading-tight"},At={class:"flex justify-between items-center w-full"},Ft={key:0,class:"flex items-center gap-1"},Mt={class:"text-slate-950 text-xs font-bold leading-tight"},Ot={key:1,class:"h-3 w-[0px] border border-slate-300"},Vt={class:"text-slate-950 text-xs font-bold leading-tight"},Rt={class:"text-slate-500 text-xs font-normal leading-tight"},Tt={key:2,class:"text-right text-slate-500 text-xs font-normal leading-tight"},Et={key:3,class:"text-right text-red-500 text-xs font-normal leading-tight"},Gt={class:"w-full p-2"},Kt={key:0,class:"justify-start items-center gap-3 flex w-full"},Ut={class:"text-primary text-sm font-normal leading-tight"},Ht={key:1,class:"justify-center items-center gap-0.5 flex border border-red-300 py-2.5 rounded-[10px] w-full",disabled:""},It={class:"text-red-300 text-sm font-normal leading-tight"},Qt={__name:"ProductCard",props:{product:Object},setup(Z){var v,m;const tt=rt(),p=it(),et=dt(),a=at(),h=ct(),t=Z,st={product_id:(v=t.product)==null?void 0:v.id,quantity:1,size:null,color:null,unit:null},ot=d=>{et.addToCart(st,d)},_=nt((m=t.product)==null?void 0:m.is_favorite),f=()=>{if(a.token===null)return a.loginModal=!0;axios.post("/favorite-add-or-remove",{product_id:t.product.id},{headers:{Authorization:a.token}}).then(d=>{t.product.is_favorite=!t.product.is_favorite,_.value=d.data.data.product.is_favorite,_.value===!1?h.warning("Product removed from favorite",{position:"bottom-left"}):h.success("Product added to favorite",{position:"bottom-left"}),a.favoriteRemove=!0,a.fetchFavoriteProducts()})},x=()=>{t.product.quantity>0&&tt.push({name:"productDetails",params:{id:t.product.id}})};return(d,l)=>{var g,y,b,w,k,j,C,q,$,S,B,z,D,N,P,A,F,M,O,V,R,T,E,G,K,U,H,I,J,L,Q,W,X,Y;return s(),o("div",{class:c(["rounded-lg border transition-all mx-1 duration-300 group bg-white overflow-hidden relative",((g=t.product)==null?void 0:g.quantity)>0?"hover:border-primary":""])},[e("div",ht,[e("div",_t,[e("div",{class:c(["w-full h-36 sm:h-52 overflow-hidden relative",((y=t.product)==null?void 0:y.quantity)>0?"":"opacity-30"])},[e("div",{class:"cursor-pointer",onClick:x},[e("img",{src:(b=t.product)==null?void 0:b.thumbnail,loading:"lazy",class:"w-full h-full group-hover:scale-110 transition duration-500 object-cover"},null,8,ft)]),((w=t.product)==null?void 0:w.discount_percentage)>0?(s(),o("div",xt,r((k=t.product)==null?void 0:k.discount_percentage)+"% "+r(d.$t("OFF")),1)):i("",!0),(j=t.product)!=null&&j.is_favorite?(s(),o("button",{key:1,class:"absolute top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center flex cursor-pointer bg-white",onClick:f},[u(n(lt),{class:"w-6 h-6 text-red-500"})])):(s(),o("button",{key:2,class:"absolute flex sm:hidden group-hover:flex top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center cursor-pointer bg-white transition-all duration-300",onClick:f},[u(n(ut),{class:"w-6 h-6 text-slate-600"})]))],2),e("div",{class:"cursor-pointer",onClick:x},[e("div",vt,[e("div",null,[e("div",{class:c(["text-slate-950 text-base font-normal leading-normal truncate w-full",((C=t.product)==null?void 0:C.quantity)>0?"":"opacity-30"])},r((q=t.product)==null?void 0:q.name),3),($=t.product)!=null&&$.model?(s(),o("div",mt,[e("span",gt," Model : "+r((S=t.product)==null?void 0:S.model),1)])):i("",!0)]),e("div",{class:c(["flex justify-between gap-2",((B=t.product)==null?void 0:B.quantity)>0?"":"opacity-30"])},null,2),e("div",yt,[e("div",bt,[e("div",wt,r(n(p).showCurrency(((z=t.product)==null?void 0:z.discount_price)>0?(D=t.product)==null?void 0:D.discount_price:(N=t.product)==null?void 0:N.price)),1),((P=t.product)==null?void 0:P.discount_price)>0?(s(),o("div",kt,r(n(p).showCurrency((A=t.product)==null?void 0:A.price)),1)):i("",!0)]),(F=t.product)!=null&&F.is_special?(s(),o("div",jt," ðŸ”¥ ")):i("",!0)]),e("div",Ct,[(M=t.product)!=null&&M.year?(s(),o("div",qt,[e("div",$t,r((O=t.product)==null?void 0:O.year),1)])):i("",!0),(V=t.product)!=null&&V.year?(s(),o("div",St)):i("",!0),(R=t.product)!=null&&R.transmission?(s(),o("div",Bt,[e("div",zt,r((T=t.product)==null?void 0:T.transmission),1)])):i("",!0),(E=t.product)!=null&&E.transmission?(s(),o("div",Dt)):i("",!0),(G=t.product)!=null&&G.drive_train?(s(),o("div",Nt,[e("div",Pt,r((K=t.product)==null?void 0:K.drive_train),1)])):i("",!0)]),e("div",At,[(U=t.product)!=null&&U.mileage?(s(),o("div",Ft,[e("div",Mt,r((H=t.product)==null?void 0:H.mileage)+" KM ",1)])):i("",!0),(I=t.product)!=null&&I.mileage?(s(),o("div",Ot)):i("",!0),e("div",{class:c(["flex items-center gap-1",((J=t.product)==null?void 0:J.quantity)>0?"":"opacity-30"])},[u(n(pt),{class:"w-4 h-4 text-yellow-400"}),e("div",Vt,r((L=t.product)==null?void 0:L.rating),1),e("div",Rt," ("+r((Q=t.product)==null?void 0:Q.total_reviews)+") ",1)],2),l[1]||(l[1]=e("div",{class:"h-3 w-[0px] border border-slate-300"},null,-1)),((W=t.product)==null?void 0:W.quantity)>0?(s(),o("div",Tt,r((X=t.product)==null?void 0:X.total_sold)+" "+r(d.$t("Sold")),1)):(s(),o("div",Et,r(d.$t("Stock Out")),1))])])])]),e("div",Gt,[((Y=t.product)==null?void 0:Y.quantity)>0?(s(),o("div",Kt,[e("button",{class:"justify-center items-center gap-0.5 flex border border-primary grow py-2.5 rounded-[10px]",onClick:l[0]||(l[0]=Jt=>ot(t.product))},[e("div",Ut,r(d.$t("Add to Cart")),1)])])):(s(),o("button",Ht,[e("div",It,r(d.$t("Buy Now")),1)]))])])],2)}}};export{Qt as _};
