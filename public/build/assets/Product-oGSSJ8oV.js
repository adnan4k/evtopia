import{o as d,c,a as e,t as n,b as o,w as b,F as k,d as $,e as O,u as m,f as C,i as R,j as i,k as T,l as G,h as K,D as W,m as X,K as Z,M as V,N as F,O as q,Y as J,S as B,T as Q,U as ee,I as te,n as ae,W as se,X as le,Z as oe}from"./app-BD4lRJCZ.js";import{S as re,a as ne}from"./swiper-vue-TUMC4tS3.js";import{N as ie}from"./navigation-mOXyV9i5.js";import{A as de,_ as ue}from"./PopularProducts-qJpyZnC-.js";import{_ as ce}from"./ProductCardHorizontal-DZIasWUH.js";import"./swiper-D8GLvp5l.js";/* empty css                   */import{C as pe,T as me}from"./RecentlyViews.vue_vue_type_style_index_0_lang-BbfmIYeu.js";import{_ as ve}from"./ProductCard-Dg2_bi_-.js";import{r as fe}from"./FunnelIcon-DOTJZ8wW.js";import"./CategoryCard-DS13LUDl.js";import"./ArrowRightIcon-E2mo1tpt.js";const ge={key:0,class:"main-container py-12 bg-slate-100 border-t border-slate-200"},xe={class:"text-slate-800 text-lg md:text-3xl font-bold leading-9"},he={class:"mt-4"},ye={__name:"RecentlyViews",props:{products:Array},setup(P){const p=P,x=[ie,de],f={320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}};return(h,w)=>{var u;return((u=p==null?void 0:p.products)==null?void 0:u.length)>0?(d(),c("div",ge,[e("div",xe,n(h.$t("Recently Viewed")),1),e("div",he,[o(m(ne),{navigation:!0,modules:x,breakpoints:f,class:"recentlyViewed",loop:!1},{default:b(()=>[(d(!0),c(k,null,$(P.products,v=>(d(),O(m(re),{key:v.id},{default:b(()=>[o(ce,{product:v},null,8,["product"])]),_:2},1024))),128))]),_:1})])])):C("",!0)}}},be={class:"main-container bg-white pb-12"},we={key:0,class:"mt-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xxl:grid-cols-4 gap-3 md:gap-6 items-start"},_e={key:1},Pe={key:0,class:"mt-4 md:mt-8 grid grid-cols-1 md:grid-cols-2 lgx:grid-cols-3 xxlg:grid-cols-4 gap-3 md:gap-6 items-start"},ke={class:"mt-4 md:mt-8 w-full flex justify-center"},$e={key:1,class:"md:w-[448px] px-6 py-2 md:py-4 rounded-[10px] border border-primary-200 text-primary flex items-center justify-center cursor-not-allowed",disabled:""},je={__name:"AllProducts",props:{justForYou:{type:Object,default:()=>({products:[],total:0})},loading:{type:Boolean,default:!1}},setup(P){const p=R(),x=P,f=i(2),h=i(!1),w=i(1),u=i(!1),v=i([]);T(()=>x.justForYou,()=>{var g,r;v.value=(g=x.justForYou)==null?void 0:g.products,w.value=Math.ceil(((r=x.justForYou)==null?void 0:r.total)/12),w.value>1&&(h.value=!0)});const j=()=>{u.value=!0,axios.get("/home?page="+f.value+"&per_page=12",{headers:{Authorization:p.token}}).then(g=>{v.value=v.value.concat(g.data.data.just_for_you.products),f.value++,f.value>=w.value&&(h.value=!1),u.value=!1}).catch(g=>{u.value=!1,console.log(g)})};return(g,r)=>(d(),c("div",be,[P.loading?(d(),c("div",we,[(d(),c(k,null,$(12,a=>e("div",{key:`skeleton-${a}`,class:"w-full"},r[1]||(r[1]=[G('<div class="bg-white shadow-md rounded-lg p-4 animate-pulse"><div class="h-60 bg-gray-200 rounded"></div><div class="mt-4 h-8 bg-gray-200 rounded"></div><div class="mt-2 h-8 bg-gray-200 rounded"></div><div class="mt-2 h-8 w-3/4 bg-gray-200 rounded"></div></div>',1)]))),64))])):(d(),c("div",_e,[v.value?(d(),c("div",Pe,[(d(!0),c(k,null,$(v.value,a=>(d(),c("div",{key:a.id,class:"w-full"},[o(ve,{product:a},null,8,["product"])]))),128))])):C("",!0),e("div",ke,[h.value&&!u.value?(d(),c("button",{key:0,class:"md:w-[448px] px-6 py-2 md:py-4 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal",onClick:r[0]||(r[0]=a=>j())},r[2]||(r[2]=[e("span",null,n("Load More Products"),-1)]))):C("",!0),u.value?(d(),c("button",$e,r[3]||(r[3]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),K(" "+n("Loading products")+"... ")]))):C("",!0)])]))]))}},Ve={class:"main-container py-4 bg-slate-100"},Ce={class:"w-full p-2 md:p-4 bg-white rounded-lg sm:rounded-xl md:rounded-2xl flex gap-3 md:gap-6 items-center justify-between"},Se={class:"w-full"},Me={class:"relative overflow-hidden grow"},Fe=["placeholder"],Be={class:"grow shrink basis-0"},Te={class:"grow flex justify-between items-center px-2 md:px-4 overflow-x-auto whitespace-nowrap"},Ae={class:"text-primary text-xs"},Ne={class:"text-slate-800 text-xs font-normal pl-2"},Ye={key:0},ze={class:"fixed inset-0 overflow-hidden"},Re={class:"absolute inset-0 overflow-hidden"},Ue={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},De={class:"flex h-full flex-col justify-between overflow-y-scroll bg-white shadow-xl"},Ee={class:"p-4 flex flex-col gap-7"},Le={class:"flex justify-between items-center"},He={class:"text-slate-950 text-xl font-bold leading-loose"},Ie={class:"text-slate-950 text-base font-medium leading-normal"},Oe={class:"flex flex-col gap-2 mt-3"},Ge=["for"],Ke={class:"flex items-center gap-1"},We={class:"flex items-center"},Xe={class:"text-base font-medium leading-normal"},Ze=["onUpdate:modelValue","id","value"],qe=["value"],Je={class:"flex justify-between items-center gap-2"},Qe={class:"text-slate-950 text-base font-medium leading-normal"},et={class:"text-primary text-base font-normal leading-normal"},tt={class:"flex mt-2 gap-2"},at={class:"text-slate-400 text-xs font-normal leading-none flex justify-between mt-2"},st={class:"flex gap-6 p-6 border-t border-slate-200"},lt=12,xt={__name:"Product",setup(P){const p=W(),x=i([]),f=R(),h=i([]),w=i([]);X(()=>{u.value=p.search||"",H(),_(),g(),window.scrollTo(0,0)});const u=i(""),v=Z(()=>u.value||p.search||"");T(()=>v,()=>{_()}),T(()=>p.search,()=>{u.value=p.search||"",_()});const j=i(1),g=()=>{f.token&&axios.get("/recently-views",{headers:{Authorization:f.token}}).then(l=>{x.value=l.data.data.products}).catch(()=>{})},r=i(!1),a=i({rating:null,sort_by:null,minPrice:0,maxPrice:1e7}),U=[5,4,3,2,1],A=i([]),N=i([]),M=i(0),Y=i([]),y=i(!0),_=async()=>{const l={page:j.value,per_page:lt,search:v.value,rating:a.value.rating,sort_by:a.value.sort_by,brand:a.value.brand,color:a.value.color,min_price:a.value.minPrice,max_price:a.value.maxPrice};axios.get("/products",{params:l}).then(t=>{M.value=t.data.data.total,N.value=t.data.data.products,h.value=t.data.data}).catch(()=>{N.value=[],M.value=0}).finally(()=>{y.value=!1})},D=()=>{j.value=1,r.value=!1,_()},E=()=>{a.value={rating:null,sort_by:null,minPrice:0,maxPrice:1e7},_()},L=()=>{a.value={rating:null,sort_by:null,minPrice:0,maxPrice:1e7},u.value="",p.search="",_()},z=()=>{u.value&&(p.search=""),j.value=1,_()},H=()=>{axios.get("/home?page=1&per_page=12",{headers:{Authorization:f.token}}).then(l=>{Y.value=l.data.data.popular_products,w.value=l.data.data.shops.slice(0,4),A.value=l.data.data.categories}).catch(()=>{}).finally(()=>{y.value=!1}),axios.get("/categories").then(l=>{p.categories=l.data.data.categories}).catch(()=>{}).finally(()=>{y.value=!1})},I=[{name:"High to Low",value:"high_to_low"},{name:"Low to High",value:"low_to_high"},{name:"Popular Product",value:"popular_product"},{name:"Top Selling",value:"top_selling"},{name:"New Product",value:"newest"}];return(l,t)=>(d(),c("div",null,[o(pe,{categories:A.value,loading:y.value},null,8,["categories","loading"]),e("div",Ve,[e("div",Ce,[e("div",Se,[e("div",Me,[V(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:l.$t("Search product"),class:"px-2 py-2 md:py-3 block rounded-lg border border-slate-200 focus:border-primary w-full placeholder:text-gray-400 outline-none text-base font-normal leading-normal",onInput:z},null,40,Fe),[[F,u.value]]),e("button",{class:"bg-primary h-full w-10 md:w-14 border-none absolute right-0 top-0 rounded-r-lg flex items-center justify-center",onClick:t[1]||(t[1]=s=>z())},[o(m(q),{class:"w-6 h-6 text-white"})])])]),e("div",null,[e("button",{class:"p-2 sm:px-4 sm:py-3 bg-slate-200 rounded-md sm:rounded-[10px] justify-center items-center gap-2 inline-flex text-slate-600 text-sm sm:text-base font-normal leading-normal border-0 outline-none hover:text-primary transition duration-300",onClick:t[2]||(t[2]=s=>r.value=!0)},[o(m(fe),{class:"w-4 h-4 sm:w-6 sm:h-6"}),e("div",Be,n(l.$t("Filter")),1)])])]),e("div",Te,[e("div",null,[e("span",Ae,"“"+n(v.value||"all")+"”",1),e("span",Ne,n(M.value)+" "+n(l.$t("items found")),1)]),e("div",null,[e("button",{class:"text-red-500 text-xs",onClick:L}," Reset Filter ")])])]),o(je,{justForYou:h.value,loading:y.value},null,8,["justForYou","loading"]),o(ue,{products:Y.value,loading:y.value},null,8,["products","loading"]),m(p).getMultiVendor?(d(),c("div",Ye,[o(me,{shops:w.value,loading:y.value},null,8,["shops","loading"])])):C("",!0),o(ye,{products:x.value,loading:y.value},null,8,["products","loading"]),o(m(oe),{as:"template",show:r.value},{default:b(()=>[o(m(J),{as:"div",class:"relative z-10",onClose:t[7]||(t[7]=s=>r.value=!1)},{default:b(()=>[o(m(B),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>t[8]||(t[8]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-30 transition-opacity"},null,-1)])),_:1}),e("div",ze,[e("div",Re,[e("div",Ue,[o(m(B),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:b(()=>[o(m(Q),{class:"pointer-events-auto relative w-screen max-w-md"},{default:b(()=>[o(m(B),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>t[9]||(t[9]=[e("div",{class:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4"},null,-1)])),_:1}),e("div",De,[e("div",Ee,[e("div",Le,[e("div",He,n(l.$t("Filter")),1),e("button",{class:"w-8 h-8 flex justify-center items-center bg-slate-100 rounded-full",onClick:t[3]||(t[3]=s=>r.value=!1)},[o(m(ee),{class:"w-5 h-5 text-slate-700"})])]),e("div",null,[e("div",Ie,n(l.$t("Customer Review")),1),e("div",Oe,[(d(),c(k,null,$(U,s=>e("div",{key:s,class:"grow"},[e("label",{for:`rating${s}`,class:"cursor-pointer has-[:checked]:border-primary text-slate-800 flex items-center justify-between px-2 py-1.5 bg-white rounded-lg border border-slate-100 gap-1.5"},[e("div",Ke,[e("div",We,[(d(),c(k,null,$(5,S=>o(m(te),{key:S,class:ae(["w-5 h-5",S<=s?"text-amber-500":"text-gray-200"])},null,8,["class"])),64))]),e("div",Xe,n(s)+".0 ",1)]),V(e("input",{type:"radio","onUpdate:modelValue":S=>a.value.rating=S,id:`rating${s}`,name:"rating",value:s,class:"w-5 h-5 appearance-none checked:bg-primary rounded-full border-2 border-slate-300 shrink-0 transition duration-300"},null,8,Ze),[[se,a.value.rating]])],8,Ge)])),64))])]),e("div",null,[t[10]||(t[10]=e("div",{class:"text-slate-950 text-base font-medium leading-normal"},"Sort by ",-1)),V(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.sort_by=s),class:"w-full mt-1 p-3 rounded bg-transparent border border-gray-100 outline-none"},[(d(),c(k,null,$(I,s=>e("option",{key:s,value:s.value},n(s.name),9,qe)),64))],512),[[le,a.value.sort_by]])]),e("div",null,[e("div",Je,[e("div",Qe,n(l.$t("Product"))+" Price ",1),e("div",et,n(l.$t("ETB 0 - ETB 10000000")),1)]),e("div",tt,[V(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.minPrice=s),min:"0",max:"10000000",placeholder:"Min Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[F,a.value.minPrice]]),V(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>a.value.maxPrice=s),min:"0",max:"10000000",placeholder:"Max Price",class:"w-full bg-slate-100 text-slate-900 border border-slate-300 rounded-lg p-2 focus:outline-none focus:ring focus:ring-primary-600"},null,512),[[F,a.value.maxPrice]])]),e("div",at,[e("span",null," Min Price : ETB "+n(a.value.minPrice||0),1),e("span",null," Max Price : ETB "+n(a.value.maxPrice||1e7),1)])])]),e("div",st,[e("button",{onClick:E,class:"grow px-4 py-3 rounded-[10px] border border-primary text-primary text-base font-medium leading-normal"},n(l.$t("Clear")),1),e("button",{onClick:D,class:"grow px-4 py-3 bg-primary rounded-[10px] border border-primary text-white text-base font-medium leading-normal"},n(l.$t("Apply")),1)])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])]))}};export{xt as default};
