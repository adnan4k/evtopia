import{G as P,y as R,z as T,A as q,j as M,N as E,k as G,o as r,c as i,a as e,D as d,t as s,f as n,b as $,u as c,V as U,U as H}from"./app-4nueB3TA.js";const I={class:"rounded-lg border transition-all duration-300 group bg-white overflow-hidden relative"},J={class:"flex flex-col"},K={class:"bg-white"},L=["src"],Q={key:0,class:"px-1 py-0.5 bg-red-500 rounded-2xl text-white text-xs font-medium absolute top-2 left-2"},W={class:"bg-white p-2 flex flex-col items-start gap-2 col-span-2"},X={class:"text-primary text-base font-bold leading-normal"},Y={key:0,class:"text-slate-400 text-sm font-normal line-through leading-tight"},Z={class:"flex justify-between items-center w-full"},tt={key:0,class:"text-right text-slate-500 text-sm font-normal leading-tight"},et={class:"w-full p-2"},ot={class:"justify-start items-center gap-3 flex w-full"},st={class:"text-primary text-sm font-normal leading-tight"},at={__name:"ServiceCard",props:{product:Object},setup(z){var v,m;const F=P(),l=R();T();const N=q(),a=M(),u=E(),t=z,V={service_id:(v=t.product)==null?void 0:v.id,quantity:1},O=o=>{N.addToCart(V,o)},p=G((m=t.product)==null?void 0:m.is_favorite),f=()=>{if(a.token===null)return a.loginModal=!0;axios.post("/favorite-add-or-remove",{product_id:t.product.id},{headers:{Authorization:a.token}}).then(o=>{t.product.is_favorite=!t.product.is_favorite,p.value=o.data.data.product.is_favorite,p.value===!1?u.warning("Product removed from favorite",{position:"bottom-left"}):u.success("Product added to favorite",{position:"bottom-left"}),a.favoriteRemove=!0,a.fetchFavoriteProducts()})},h=()=>{F.push({name:"serviceDetails",params:{id:t.product.id}})};return(o,_)=>{var g,x,b,y,w,k,C,S,j,A,B,D;return r(),i("div",I,[e("div",J,[e("div",K,[e("div",{class:d(["w-full h-36 sm:h-52 overflow-hidden relative",o.opacity-30])},[e("div",{class:"cursor-pointer",onClick:h},[e("img",{src:(g=t.product)==null?void 0:g.thumbnail,loading:"lazy",class:"w-full h-full group-hover:scale-110 transition duration-500 object-cover"},null,8,L)]),((x=t.product)==null?void 0:x.discount_percentage)>0?(r(),i("div",Q,s((b=t.product)==null?void 0:b.discount_percentage)+"% "+s(o.$t("OFF")),1)):n("",!0),(y=t.product)!=null&&y.is_favorite?(r(),i("button",{key:1,class:"absolute top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center flex cursor-pointer bg-white",onClick:f},[$(c(U),{class:"w-6 h-6 text-red-500"})])):(r(),i("button",{key:2,class:"absolute flex sm:hidden group-hover:flex top-2 right-2 w-9 h-9 rounded-[10px] justify-center items-center cursor-pointer bg-white transition-all duration-300",onClick:f},[$(c(H),{class:"w-6 h-6 text-slate-600"})]))],2),e("div",{class:"cursor-pointer",onClick:h},[e("div",W,[e("div",{class:d(["text-slate-950 text-base font-normal leading-normal truncate w-full",o.opacity-30])},s((w=t.product)==null?void 0:w.name),3),e("div",{class:d(["flex items-center gap-2",o.opacity-30])},[e("div",X,s(c(l).showCurrency(((k=t.product)==null?void 0:k.discount_price)>0?(C=t.product)==null?void 0:C.discount_price:(S=t.product)==null?void 0:S.price)),1),((j=t.product)==null?void 0:j.discount_price)>0?(r(),i("div",Y,s(c(l).showCurrency((A=t.product)==null?void 0:A.price)),1)):n("",!0)],2),e("div",Z,[((B=t.product)==null?void 0:B.quantity)>0?(r(),i("div",tt,s((D=t.product)==null?void 0:D.total_sold)+" "+s(o.$t("Sold")),1)):n("",!0)])])])]),e("div",et,[e("div",ot,[e("button",{class:"justify-center items-center gap-0.5 flex border border-primary grow py-2.5 rounded-[10px]",onClick:_[0]||(_[0]=rt=>O(t.product))},[e("div",st,s(o.$t("Add to Cart")),1)])])])])])}}};export{at as _};
