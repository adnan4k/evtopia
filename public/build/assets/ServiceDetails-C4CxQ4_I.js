import{j as o,P as K,L as O,J as Q,D as W,E as X,G as Y,i as Z,m as ee,k as te,g as se,o as a,c as i,a as e,F as c,d as u,l as E,t as d,f as T,b as h,e as V,w as B,u as M}from"./app-BbUmsuxO.js";import{_ as ae}from"./PopularProducts-DAjujMUS.js";import{S as le,a as oe}from"./swiper-vue-BB6S2gtq.js";import{N as ie}from"./navigation-mOXyV9i5.js";import{T as de}from"./thumbs-NG0X_g2n.js";import{f as ne}from"./free-mode-CewjMCzR.js";import{_ as re,a as ce}from"./Review-CnqXp0k_.js";/* empty css                                                                  */import"./swiper-D8GLvp5l.js";/* empty css                  *//* empty css                   */import"./thumbs-l0sNRNKZ.js";const ue={class:""},ve={key:0,class:"main-container space-y-6 animate-pulse py-8"},me={class:"grid grid-cols-4 gap-2"},pe={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},ge={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-5 gap-3"},he={key:1},fe={class:"hero flex flex-col md:flex-row justify-center gap-4 md:justify-between items-center px-5 md:px-10 lg:px-20 bg-primary h-40"},_e={class:"text-white text-center md:text-left text-xl md:text-2xl font-medium leading-normal"},xe={class:"main-container"},we={class:"px-2 md:px-8 grid grid-cols-1 xl:grid-cols-4 mt-10"},be={class:"xl:col-span-3 col-span-1 lg:pr-6"},ye={class:"flex flex-wrap lg:flex-nowrap gap-4 md:pr-10 mt-6"},ke={class:""},Se={class:"mt-3 text-slate-950 text-2xl font-medium leading-normal"},Ce={class:"mt-2 text-slate-700 text-base font-normal leading-normal"},Re={key:0,class:"mt-6"},De=["innerHTML"],$e={key:1,class:""},je={class:"text-slate-950 text-lg lg:text-2xl font-medium leading-loose mb-4"},Ee={class:"max-w-2xl"},Te={class:"border-t border-slate-200 mt-6"},Ve={class:"mt-4 lg:mt-6 text-slate-950 text-lg lg:text-2xl font-medium leading-loose"},Be={class:"space-y-6 mt-6"},Me={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Ne={class:"text-slate-800 text-base font-normal leading-normal"},Pe={class:""},ze={class:"w-full"},Le={class:"w-full"},Ae={class:"bg-slate-50 rounded-xl border border-slate-100"},He=["src"],Ue={class:"mt-4 xl:mt-6 text-slate-800 text-lg md:text-2xl font-bold leading-9"},Fe={class:"gap-3 sm:gap-6 items-start mt-4 mb-6"},Ge=["src"],at={__name:"ServiceDetails",setup(Ie){o(7*60*60*1e3),K();const N=o(null),m=o(!0),k=o([]),P=[ne,ie,de],f=()=>{window.dispatchEvent(new Event("open-contact-popup"))},r=O(),z=Q();W(),X();const L=Y(),S=Z(),A=o({service_id:r.params.id}),n=o({}),C=o([]),H=o([]),R=o(!0),D=o(!1),U=o(null),F=()=>{m.value=!0,axios.get("/popularProducts",{headers:{Authorization:S.token}}).then(t=>{k.value=t.data.data.products}).catch(()=>{}).finally(()=>{m.value=!1})};ee(()=>{$(),window.scrollTo(0,0),_(r.params.id),F()}),te(r,()=>{$(),R.value=!0,D.value=!1,window.scrollTo({top:0,behavior:"smooth"}),A.value.service_id=r.params.id,_(r.params.id)});const _=t=>{let l=null;L.services.forEach(b=>{if(b.service.id==t)return l=n}),U.value=l},$=async()=>{axios.get("/service-details",{params:{service_id:r.params.id},headers:{Authorization:S.token}}).then(t=>{n.value=t.data.data.product,console.log(n.value),C.value=t.data.data.related_products,H.value=t.data.data.popular_products,_(r.params.id)}).catch(t=>{console.error("Error fetching service details:",t)}).finally(()=>{m.value=!1})},G=()=>{z.push({name:"serviceDetails",params:{id:n.value.id}})},p=o({}),x=o(0),w=o([]),v=o(1),g=o(6),I=t=>{v.value=t,J()},J=async()=>{axios.get("/reviews",{params:{service_id:r.params.id,page:v.value,per_page:g.value}}).then(t=>{x.value=t.data.data.total,w.value=t.data.data.reviews,p.value=t.data.data.average_rating_percentage})};return(t,l)=>{var j;const b=se("vue-awesome-paginate");return a(),i("div",ue,[m.value?(a(),i("div",ve,[l[1]||(l[1]=e("div",{class:"flex items-center gap-2 pt-4"},[e("div",{class:"w-6 h-6 bg-slate-200 rounded"}),e("div",{class:"flex-1 h-4 bg-slate-200 rounded"})],-1)),l[2]||(l[2]=e("div",{class:"w-full h-96 bg-slate-200 rounded-xl"},null,-1)),e("div",me,[(a(),i(c,null,u(4,s=>e("div",{key:s,class:"h-24 bg-slate-200 rounded"})),64))]),l[3]||(l[3]=E('<div class="space-y-2 lg:pl-6"><div class="h-8 bg-slate-200 rounded w-1/2"></div><div class="h-4 bg-slate-200 rounded w-1/4"></div></div><div class="h-4 bg-slate-200 rounded w-full"></div><div class="h-4 bg-slate-200 rounded w-5/6"></div>',3)),e("div",pe,[(a(),i(c,null,u(3,s=>e("div",{key:s,class:"h-6 bg-slate-200 rounded"})),64))]),l[4]||(l[4]=E('<div class="flex items-center gap-4"><div class="h-10 bg-slate-200 rounded w-32"></div><div class="h-6 bg-slate-200 rounded w-20"></div></div><div class="flex gap-4"><div class="h-10 bg-slate-200 rounded flex-1"></div><div class="h-10 bg-slate-200 rounded flex-1"></div></div><div class="mt-6 h-6 bg-slate-200 rounded w-1/4"></div>',3)),e("div",ge,[(a(),i(c,null,u(5,s=>e("div",{key:s,class:"h-48 bg-slate-200 rounded"})),64))])])):(a(),i("div",he,[e("div",fe,[e("div",_e,d(n.value.name),1),e("div",null,[e("button",{onClick:f,class:"px-3 py-2 bg-white text-primary text-sm font-medium leading-none rounded"}," Contact for Service ")])]),e("div",xe,[e("div",we,[e("div",be,[e("div",ye,[e("div",ke,[e("div",null,[(a(!0),i(c,null,u(n.value.categories||["Uncategorized"],(s,y)=>(a(),i("span",{key:y,class:"text-primary text-xs font-normal leading-none px-1.5 py-1 bg-primary-50 rounded"},d(s),1))),128))]),e("div",Se,d(n.value.name),1),e("div",Ce,d(n.value.short_description),1),e("div",{class:"w-full flex md:pr-10 border border-slate-300 rounded-lg py-3 px-3 items-center justify-between mt-3"},[l[5]||(l[5]=e("h1",null," Do you need this service? ",-1)),e("button",{onClick:f,class:"px-3 py-2 bg-primary text-white text-sm font-medium leading-none rounded"}," Contact Evtopia ")])])]),R.value?(a(),i("div",Re,[e("div",{innerHTML:n.value.description},null,8,De)])):T("",!0),D.value?(a(),i("div",$e,[e("div",je,d(t.$t("Rating and Review")),1),e("div",Ee,[h(re,{reviewRatings:p.value.percentages,avarageRating:(j=p.value)==null?void 0:j.rating,totalReview:p.value.total_review},null,8,["reviewRatings","avarageRating","totalReview"])]),e("div",Te,[e("div",Ve,d(t.$t("Reviews")),1),e("div",Be,[(a(!0),i(c,null,u(w.value,s=>(a(),V(ce,{key:s.id,review:s},null,8,["review"]))),128))]),e("div",Me,[e("div",Ne,d(t.$t("Showing"))+" "+d(g.value*(v.value-1)+1)+" "+d(t.$t("to"))+" "+d(g.value*(v.value-1)+w.value.length)+" "+d(t.$t("of"))+" "+d(x.value)+" "+d(t.$t("results")),1),e("div",null,[h(b,{"total-items":x.value,"items-per-page":g.value,type:"button","max-pages-shown":3,modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=s=>v.value=s),"hide-prev-next-when-ends":!0,onClick:I},null,8,["total-items","items-per-page","modelValue"])])])])])):T("",!0),e("div",{class:"w-full my-12 flex md:pr-10 border border-slate-300 rounded-lg py-3 px-3 items-center justify-between mt-3"},[l[6]||(l[6]=e("h1",null," Do you need this service? ",-1)),e("button",{onClick:f,class:"px-3 py-2 bg-primary text-white text-sm font-medium leading-none rounded"}," Contact Evtopia ")])]),e("div",Pe,[e("div",ze,[e("div",Le,[e("div",Ae,[h(M(oe),{spaceBetween:10,thumbs:{swiper:N.value},modules:P,class:"product-details-slider"},{default:B(()=>[(a(!0),i(c,null,u(n.value.thumbnails,s=>(a(),V(M(le),{key:s.id,class:"w-full h-auto"},{default:B(()=>[e("img",{src:s.thumbnail,alt:"",class:"h-full w-full object-contain"},null,8,He)]),_:2},1024))),128))]),_:1},8,["thumbs"])]),e("div",Ue,d(t.$t("Similar Services")),1),e("div",Fe,[(a(!0),i(c,null,u(C.value,s=>(a(),i("div",{key:s.id},[e("div",{class:"w-full card gap-4 flex border-b border-slate-200 pb-2 cursor-pointer",onClick:G},[e("img",{src:s.thumbnail,alt:"",class:"w-32 rounded-lg object-contain"},null,8,Ge),e("div",null,[e("div",null,[e("h1",null,d(s.name),1),(a(!0),i(c,null,u(s.categories||["Uncategorized"],(y,q)=>(a(),i("span",{key:q,class:"text-primary text-xs font-normal leading-none px-1.5 py-1 bg-primary-50 rounded"},d(y),1))),128))])])])]))),128))])])])])])])])),h(ae,{products:k.value,loading:m.value},null,8,["products","loading"])])}}};export{at as default};
