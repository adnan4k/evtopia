import{h as V,o as d,c,a as e,b as f,w as q,l as C,t,u as n,y as M,G as R,j as u,H as K,B as N,I as j,J as z,K as D,L as F,M as I,f as $,F as S,r as O}from"./app-C36ja4Ig.js";import{r as T}from"./ArrowRightIcon-tLzfhbSK.js";import{b as L}from"./blog-banner-BfFILLUb.js";const U={class:"w-full group rounded-xl overflow-hidden px-1 border border-slate-100 hover:border-primary transition-all duration-300"},E={class:"h-48 w-full relative"},G=["src"],J={class:"w-full px-1 pt-3 pb-1 relative transition duration-300"},A={class:"text-slate-950 text-lg font-[roboto] font-bold leading-normal"},Q={class:"text-slate-500 mt-1 text-sm font-normal leading-normal"},W={class:"w-full flex items-center justify-between mt-3"},X={class:"text-slate-500 text-sm font-normal leading-normal"},Y={class:"text-base font-normal leading-tight"},Z={__name:"KnowledgeHubCard",props:{post:Object},setup(k){const r=k;return console.log("Props : ",r),(m,a)=>{var h,b,_,o,l,g,w;const p=V("router-link");return d(),c("div",U,[e("div",E,[e("img",{class:"w-full h-full object-cover group-hover:scale-105 transition duration-300",src:(h=r.post)==null?void 0:h.banner,alt:"banner",loading:"lazy"},null,8,G)]),e("div",J,[e("div",A,[f(p,{to:`/knowledge-center/${(b=r.post)==null?void 0:b.slug}`},{default:q(()=>{var y;return[C(t(((y=r.post)==null?void 0:y.title.length)>50?r.post.title.slice(0,50)+"...":r.post.title),1)]}),_:1},8,["to"])]),e("div",Q,t(((_=r.post)==null?void 0:_.short_description.length)>150?r.post.short_description.slice(0,150)+"...":r.post.short_description),1),a[0]||(a[0]=e("div",{class:"flex gap-4 w-full mt-3"},null,-1)),e("div",W,[e("p",X,t((l=(o=r.post)==null?void 0:o.author)==null?void 0:l.name)+" ("+t((g=r.post)==null?void 0:g.created_at)+")",1),f(p,{to:`/knowledge-center/${(w=r.post)==null?void 0:w.slug}`,class:"flex items-center justify-center px-3 py-2 transition duration-300 rounded-[10px] text-primary hover:text-black font-medium"},{default:q(()=>[e("div",Y,t(m.$t("Read More")),1),f(n(T),{class:"w-5 h-5 ml-0.5"})]),_:1},8,["to"])])])])}}},ee={class:"main-container py-14"},te={class:"w-full bg-white rounded-lg border border-slate-100 p-1 md:p-2 xl:p-3"},se={class:"relative overflow-hidden grow"},oe=["placeholder"],re={key:0,class:"flex mt-1 justify-between items-center w-full gap-4 flex-wrap"},ae={key:0},le={key:1},ne={key:2},ie={class:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-start"},ue={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},de={class:"text-slate-800 text-base font-normal leading-normal"},he={__name:"KnowledgeHub",setup(k){const r=M(),m=new R,a=u(1),p=u(12);u(0);const h=u(0),b=u([]),_=u([]),o=K(),l=u({}),g=u("");N(()=>{if(l.value={...o.query},!r.multiVendor){m.push("/");return}x(),window.scrollTo(0,0)});const w=async s=>{a.value=s,x()},y=()=>{if(l.value.search=g.value.trim(),l.value.search)m.push({query:{...o.query,search:l.value.search}});else{const{search:s,...i}=o.query;m.push({query:i})}x()},x=async()=>{axios.get("/blogs",{params:{page:a.value,knowledge:1,per_page:p.value,filter:l.value}}).then(s=>{h.value=s.data.data.total,_.value=s.data.data.posts})},B=j(()=>Object.keys(o.query).some(s=>o.query[s])),P=()=>{l.value={},m.push({query:{}}),x()};return j(()=>!!o.query.search),(s,i)=>{const H=V("vue-awesome-paginate");return d(),c(S,null,[e("div",{class:"hero-section bg-cover bg-center h-72 flex items-center justify-center",style:z({backgroundImage:`url(${n(L)})`,backgroundSize:"cover",backgroundPosition:"center"})},i[2]||(i[2]=[e("h1",{class:"text-white text-3xl sm:text-4xl font-bold text-center"},"Our Knowledge Hub",-1)]),4),e("div",ee,[e("div",te,[e("div",se,[D(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=v=>g.value=v),placeholder:s.$t("Search ..."),class:"px-2 py-3 block rounded-lg border border-slate-200 focus:border-primary w-full placeholder:text-gray-400 outline-none text-base font-normal leading-normal",onInput:y},null,40,oe),[[F,g.value]]),e("button",{class:"bg-primary-600 h-full w-14 border-none absolute right-0 top-0 rounded-r-lg flex items-center justify-center",onClick:y},[f(n(I),{class:"w-6 h-6 text-white"})])])]),B.value?(d(),c("div",re,[e("div",null,[C(t(s.$t("Search Results"))+" ",1),n(o).query.search?(d(),c("span",ae,t(s.$t("for"))+' "'+t(n(o).query.search)+'" ',1)):$("",!0),n(o).query.category_id?(d(),c("span",le,t(s.$t("for category with id"))+' "'+t(n(o).query.category_id)+'" ',1)):$("",!0),n(o).query.tag_id?(d(),c("span",ne,t(s.$t("with tag id"))+' "'+t(n(o).query.tag_id)+'" ',1)):$("",!0)]),e("div",null,[e("button",{class:"text-red-500 rounded-lg py-2 px-4 hover:text-red-700 transition duration-300",onClick:P},t(s.$t("Reset Search")),1)])])):$("",!0),e("div",ie,[(d(!0),c(S,null,O(_.value,v=>(d(),c("div",{key:v.id,class:"w-full"},[f(Z,{post:v},null,8,["post"])]))),128))]),e("div",ue,[e("div",de,t(s.$t("Showing"))+" "+t(p.value*(a.value-1)+1)+" "+t(s.$t("to"))+" "+t(p.value*(a.value-1)+b.value.length)+" "+t(s.$t("of"))+" "+t(h.value)+" "+t(s.$t("results")),1),e("div",null,[f(H,{"total-items":h.value,"items-per-page":p.value,type:"button","hide-prev-next-when-ends":!0,"max-pages-shown":5,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=v=>a.value=v),onClick:w},null,8,["total-items","items-per-page","modelValue"])])])])],64)}}};export{he as default};
