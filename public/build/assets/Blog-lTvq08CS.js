import{y as C,G as j,k as r,H as N,B as P,I as _,h as I,o as n,c as u,a as s,J as M,u as l,K as R,L as D,b as f,M as F,i as T,t,f as h,F as x,r as z}from"./app-D821F2Z1.js";import{_ as E}from"./BlogCard-KjUENhCn.js";import{b as H}from"./blog-banner-BfFILLUb.js";import"./ArrowRightIcon-CWi0TSxp.js";const L={class:"main-container py-14"},U={class:"w-full bg-white rounded-lg border border-slate-100 p-1 md:p-2 xl:p-3"},G={class:"relative overflow-hidden grow"},J=["placeholder"],K={key:0,class:"flex mt-1 justify-between items-center w-full gap-4 flex-wrap"},O={key:0},A={key:1},Q={key:2},W={class:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-start"},X={class:"flex justify-between items-center w-full mt-8 gap-4 flex-wrap"},Y={class:"text-slate-800 text-base font-normal leading-normal"},oe={__name:"Blog",setup(Z){const k=C(),p=new j,i=r(1),m=r(12);r(0);const v=r(0),q=r([]),b=r([]),a=N(),d=r({}),y=r("");P(()=>{if(d.value={...a.query},!k.multiVendor){p.push("/");return}g(),window.scrollTo(0,0)});const $=async e=>{i.value=e,g()},w=()=>{if(d.value.search=y.value.trim(),d.value.search)p.push({query:{...a.query,search:d.value.search}});else{const{search:e,...o}=a.query;p.push({query:o})}g()},g=async()=>{axios.get("/blogs",{params:{page:i.value,per_page:m.value,filter:d.value}}).then(e=>{v.value=e.data.data.total,b.value=e.data.data.posts})},S=_(()=>Object.keys(a.query).some(e=>a.query[e])),V=()=>{d.value={},p.push({query:{}}),g()};return _(()=>!!a.query.search),(e,o)=>{const B=I("vue-awesome-paginate");return n(),u(x,null,[s("div",{class:"hero-section bg-cover bg-center h-72 flex items-center justify-center",style:M({backgroundImage:`url(${l(H)})`,backgroundSize:"cover",backgroundPosition:"center"})},o[2]||(o[2]=[s("h1",{class:"text-white text-3xl sm:text-4xl font-bold text-center"},"Evtopia News and Insights",-1)]),4),s("div",L,[s("div",U,[s("div",G,[R(s("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=c=>y.value=c),placeholder:e.$t("Search Blog"),class:"px-2 py-3 block rounded-lg border border-slate-200 focus:border-primary w-full placeholder:text-gray-400 outline-none text-base font-normal leading-normal",onInput:w},null,40,J),[[D,y.value]]),s("button",{class:"bg-primary-600 h-full w-14 border-none absolute right-0 top-0 rounded-r-lg flex items-center justify-center",onClick:w},[f(l(F),{class:"w-6 h-6 text-white"})])])]),S.value?(n(),u("div",K,[s("div",null,[T(t(e.$t("Search Results"))+" ",1),l(a).query.search?(n(),u("span",O,t(e.$t("for"))+' "'+t(l(a).query.search)+'" ',1)):h("",!0),l(a).query.category_id?(n(),u("span",A,t(e.$t("for category with id"))+' "'+t(l(a).query.category_id)+'" ',1)):h("",!0),l(a).query.tag_id?(n(),u("span",Q,t(e.$t("with tag id"))+' "'+t(l(a).query.tag_id)+'" ',1)):h("",!0)]),s("div",null,[s("button",{class:"text-red-500 rounded-lg py-2 px-4 hover:text-red-700 transition duration-300",onClick:V},t(e.$t("Reset Search")),1)])])):h("",!0),s("div",W,[(n(!0),u(x,null,z(b.value,c=>(n(),u("div",{key:c.id,class:"w-full"},[f(E,{post:c},null,8,["post"])]))),128))]),s("div",X,[s("div",Y,t(e.$t("Showing"))+" "+t(m.value*(i.value-1)+1)+" "+t(e.$t("to"))+" "+t(m.value*(i.value-1)+q.value.length)+" "+t(e.$t("of"))+" "+t(v.value)+" "+t(e.$t("results")),1),s("div",null,[f(B,{"total-items":v.value,"items-per-page":m.value,type:"button","hide-prev-next-when-ends":!0,"max-pages-shown":5,modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=c=>i.value=c),onClick:$},null,8,["total-items","items-per-page","modelValue"])])])])],64)}}};export{oe as default};
